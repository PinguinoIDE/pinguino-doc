\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h}{\section{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/diskio.h File Reference}
\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h}\index{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/diskio.\-h@{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/diskio.\-h}}
}
{\ttfamily \#include \char`\"{}integer.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad5bbf13eac760f360fa1489b66adbf84}{\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y}~0	/$\ast$ 1\-: Read-\/only mode $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_afe6d1224687dede333375a2475c78ff6}{\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L}~1
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T}~0x01	/$\ast$ Drive not initialized $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K}~0x02	/$\ast$ No medium in the drive $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T}~0x04	/$\ast$ Write protected $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a1b3c492f9aec325f0655941b75256f3c}{C\-T\-R\-L\-\_\-\-S\-Y\-N\-C}~0	/$\ast$ Flush disk cache (for \hyperlink{newlib_8c_ad0f87c9a81020afdf227817ffab35de3}{write} functions) $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T}~1	/$\ast$ Get media size (for only \hyperlink{ff_8h_a6dd982dae31f4d5912b7d3b2896fd1b3}{f\-\_\-mkfs}()) $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}~2	/$\ast$ Get sector size (for multiple sector size (\hyperlink{ffconf_8h_ac271b697378912f17132cb9c7d0de024}{\-\_\-\-M\-A\-X\-\_\-\-S\-S} $>$= 1024)) $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}{G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E}~3	/$\ast$ Get erase block size (for only \hyperlink{ff_8h_a6dd982dae31f4d5912b7d3b2896fd1b3}{f\-\_\-mkfs}()) $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a345531a07462afbd999f414708e3b65b}{C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R}~4	/$\ast$ Get/Set power \hyperlink{p32_2include_2pinguino_2libraries_2ledcontrol_8h_a0e245df1940369c94735090b1ea1a9d9}{status} $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af40e5cf3000553a978ff6e30dae70858}{C\-T\-R\-L\-\_\-\-L\-O\-C\-K}~5	/$\ast$ Lock/Unlock media removal $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}{C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T}~6	/$\ast$ Eject media $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E}~10	/$\ast$ Get card type $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D}~11	/$\ast$ Get C\-S\-D $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D}~12	/$\ast$ Get C\-I\-D $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R}~13	/$\ast$ Get O\-C\-R $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T}~14	/$\ast$ Get S\-D \hyperlink{p32_2include_2pinguino_2libraries_2ledcontrol_8h_a0e245df1940369c94735090b1ea1a9d9}{status} $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V}~20	/$\ast$ Get \hyperlink{p32_2include_2pinguino_2core_2sound_8c_a42257a545daf5b7933d6e8f96adc74f2}{F}/W revision $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a31f556ab98ab80c39058b38d9283865d}{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L}~21	/$\ast$ Get model name $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a469c4f989757ee1ee404134fea3c74ba}{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N}~22	/$\ast$ Get serial number $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7ba26a1a5fdfc3d739816ea4e6272319}{N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T}~30	/$\ast$ Create physical format $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a048f8663bbecc146f6139322019acf83}{N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E}~31	/$\ast$ Force erased a block $\ast$/
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac52ec66c278308382fdf7b2c57f0ad8c}{C\-T\-\_\-\-M\-M\-C}~0x01
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}{C\-T\-\_\-\-S\-D1}~0x02
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{C\-T\-\_\-\-S\-D2}~0x04
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae76d94ac83c68d1f025cb0bcad77fa5d}{C\-T\-\_\-\-S\-D\-C}~(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}{C\-T\-\_\-\-S\-D1}$\vert$\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{C\-T\-\_\-\-S\-D2})
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}{C\-T\-\_\-\-B\-L\-O\-C\-K}~0x08
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_adaaf74fb14f944682c41a495b64ede08}{\-\_\-\-D\-I\-S\-K\-I\-O}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ab3d45f5feeacebb1efd9a8023bec3271}{D\-S\-T\-A\-T\-U\-S}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\-R\-E\-S\-U\-L\-T} \{ \\*
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\-E\-S\-\_\-\-O\-K} = 0, 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}, 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}, 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}, 
\\*
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}, 
\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\-E\-S\-\_\-\-O\-K} = 0, 
\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}, 
\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}, 
\\*
\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}, 
\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a2aada3fd8fce7bb0c5e36c9061d39b4e}{D\-S\-T\-A\-T\-U\-S} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a675c82658fb595f80887776220918167}{disk\-\_\-initialize} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a2aada3fd8fce7bb0c5e36c9061d39b4e}{D\-S\-T\-A\-T\-U\-S} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac717d34bc6739a885781aa03689a3000}{disk\-\_\-status} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\-R\-E\-S\-U\-L\-T} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aa5fe7299e0f1ec5c6d16d4be2bf42e63}{disk\-\_\-read} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\-R\-E\-S\-U\-L\-T} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac2e3dea01f75cb43fd4e87f326709cfd}{disk\-\_\-write} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, const \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\-R\-E\-S\-U\-L\-T} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac4daa8f0356ed3012459b52282a9911c}{disk\-\_\-ioctl} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, void $\ast$)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a045f8898a243c16aca4e64e069c49c03}{disk\-\_\-timerproc} (void)
\item 
\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D} \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}{get\-\_\-fattime} (void)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_adaaf74fb14f944682c41a495b64ede08}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!\-\_\-\-D\-I\-S\-K\-I\-O@{\-\_\-\-D\-I\-S\-K\-I\-O}}
\index{\-\_\-\-D\-I\-S\-K\-I\-O@{\-\_\-\-D\-I\-S\-K\-I\-O}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{\-\_\-\-D\-I\-S\-K\-I\-O}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-D\-I\-S\-K\-I\-O}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_adaaf74fb14f944682c41a495b64ede08}


Definition at line 87 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad5bbf13eac760f360fa1489b66adbf84}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y@{\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y}}
\index{\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y@{\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y~0	/$\ast$ 1\-: Read-\/only mode $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad5bbf13eac760f360fa1489b66adbf84}


Definition at line 7 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_afe6d1224687dede333375a2475c78ff6}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L@{\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L}}
\index{\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L@{\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{\-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-U\-S\-E\-\_\-\-I\-O\-C\-T\-L~1}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_afe6d1224687dede333375a2475c78ff6}


Definition at line 8 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a31f556ab98ab80c39058b38d9283865d}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L}}
\index{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-M\-O\-D\-E\-L~21	/$\ast$ Get model name $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a31f556ab98ab80c39058b38d9283865d}


Definition at line 70 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V}}
\index{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-R\-E\-V~20	/$\ast$ Get {\bf F}/W revision $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}


Definition at line 69 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a469c4f989757ee1ee404134fea3c74ba}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N}}
\index{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N@{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-T\-A\-\_\-\-G\-E\-T\-\_\-\-S\-N~22	/$\ast$ Get serial number $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a469c4f989757ee1ee404134fea3c74ba}


Definition at line 71 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-\_\-\-B\-L\-O\-C\-K@{C\-T\-\_\-\-B\-L\-O\-C\-K}}
\index{C\-T\-\_\-\-B\-L\-O\-C\-K@{C\-T\-\_\-\-B\-L\-O\-C\-K}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-\_\-\-B\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-\_\-\-B\-L\-O\-C\-K~0x08}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}


Definition at line 84 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac52ec66c278308382fdf7b2c57f0ad8c}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-\_\-\-M\-M\-C@{C\-T\-\_\-\-M\-M\-C}}
\index{C\-T\-\_\-\-M\-M\-C@{C\-T\-\_\-\-M\-M\-C}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-\_\-\-M\-M\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-\_\-\-M\-M\-C~0x01}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac52ec66c278308382fdf7b2c57f0ad8c}


Definition at line 80 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-\_\-\-S\-D1@{C\-T\-\_\-\-S\-D1}}
\index{C\-T\-\_\-\-S\-D1@{C\-T\-\_\-\-S\-D1}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-\_\-\-S\-D1}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-\_\-\-S\-D1~0x02}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}


Definition at line 81 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-\_\-\-S\-D2@{C\-T\-\_\-\-S\-D2}}
\index{C\-T\-\_\-\-S\-D2@{C\-T\-\_\-\-S\-D2}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-\_\-\-S\-D2}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-\_\-\-S\-D2~0x04}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}


Definition at line 82 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae76d94ac83c68d1f025cb0bcad77fa5d}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-\_\-\-S\-D\-C@{C\-T\-\_\-\-S\-D\-C}}
\index{C\-T\-\_\-\-S\-D\-C@{C\-T\-\_\-\-S\-D\-C}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-\_\-\-S\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-\_\-\-S\-D\-C~({\bf C\-T\-\_\-\-S\-D1}$\vert${\bf C\-T\-\_\-\-S\-D2})}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae76d94ac83c68d1f025cb0bcad77fa5d}


Definition at line 83 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T@{C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T}}
\index{C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T@{C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-R\-L\-\_\-\-E\-J\-E\-C\-T~6	/$\ast$ Eject media $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}


Definition at line 59 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af40e5cf3000553a978ff6e30dae70858}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-R\-L\-\_\-\-L\-O\-C\-K@{C\-T\-R\-L\-\_\-\-L\-O\-C\-K}}
\index{C\-T\-R\-L\-\_\-\-L\-O\-C\-K@{C\-T\-R\-L\-\_\-\-L\-O\-C\-K}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-R\-L\-\_\-\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-R\-L\-\_\-\-L\-O\-C\-K~5	/$\ast$ Lock/Unlock media removal $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af40e5cf3000553a978ff6e30dae70858}


Definition at line 58 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a345531a07462afbd999f414708e3b65b}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R@{C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R}}
\index{C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R@{C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-R\-L\-\_\-\-P\-O\-W\-E\-R~4	/$\ast$ Get/Set power {\bf status} $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a345531a07462afbd999f414708e3b65b}


Definition at line 57 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a1b3c492f9aec325f0655941b75256f3c}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!C\-T\-R\-L\-\_\-\-S\-Y\-N\-C@{C\-T\-R\-L\-\_\-\-S\-Y\-N\-C}}
\index{C\-T\-R\-L\-\_\-\-S\-Y\-N\-C@{C\-T\-R\-L\-\_\-\-S\-Y\-N\-C}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{C\-T\-R\-L\-\_\-\-S\-Y\-N\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-T\-R\-L\-\_\-\-S\-Y\-N\-C~0	/$\ast$ Flush disk cache (for {\bf write} functions) $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a1b3c492f9aec325f0655941b75256f3c}


Definition at line 51 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E@{G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E}}
\index{G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E@{G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E~3	/$\ast$ Get erase block size (for only {\bf f\-\_\-mkfs}()) $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}


Definition at line 54 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T@{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T}}
\index{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T@{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T~1	/$\ast$ Get media size (for only {\bf f\-\_\-mkfs}()) $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}


Definition at line 52 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E@{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}}
\index{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E@{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E~2	/$\ast$ Get sector size (for multiple sector size ({\bf \-\_\-\-M\-A\-X\-\_\-\-S\-S} $>$= 1024)) $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}


Definition at line 53 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D}}
\index{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D~12	/$\ast$ Get C\-I\-D $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}


Definition at line 64 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D}}
\index{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D~11	/$\ast$ Get C\-S\-D $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}


Definition at line 63 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R}}
\index{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R~13	/$\ast$ Get O\-C\-R $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}


Definition at line 65 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T}}
\index{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T~14	/$\ast$ Get S\-D {\bf status} $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}


Definition at line 66 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E}}
\index{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E@{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E~10	/$\ast$ Get card type $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}


Definition at line 62 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a048f8663bbecc146f6139322019acf83}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E@{N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E}}
\index{N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E@{N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\-A\-N\-D\-\_\-\-E\-R\-A\-S\-E~31	/$\ast$ Force erased a block $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a048f8663bbecc146f6139322019acf83}


Definition at line 75 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7ba26a1a5fdfc3d739816ea4e6272319}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T@{N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T}}
\index{N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T@{N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\-A\-N\-D\-\_\-\-F\-O\-R\-M\-A\-T~30	/$\ast$ Create physical format $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a7ba26a1a5fdfc3d739816ea4e6272319}


Definition at line 74 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K@{S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K}}
\index{S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K@{S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K~0x02	/$\ast$ No medium in the drive $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}


Definition at line 44 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T@{S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T}}
\index{S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T@{S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T~0x01	/$\ast$ Drive not initialized $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}


Definition at line 43 of file diskio.\-h.

\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T@{S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T}}
\index{S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T@{S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T~0x04	/$\ast$ Write protected $\ast$/}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}


Definition at line 45 of file diskio.\-h.



\subsection{Typedef Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ab3d45f5feeacebb1efd9a8023bec3271}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!D\-S\-T\-A\-T\-U\-S@{D\-S\-T\-A\-T\-U\-S}}
\index{D\-S\-T\-A\-T\-U\-S@{D\-S\-T\-A\-T\-U\-S}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{D\-S\-T\-A\-T\-U\-S}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf P\-F\-\_\-\-B\-Y\-T\-E} {\bf D\-S\-T\-A\-T\-U\-S}}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ab3d45f5feeacebb1efd9a8023bec3271}


Definition at line 14 of file diskio.\-h.



\subsection{Enumeration Type Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!D\-R\-E\-S\-U\-L\-T@{D\-R\-E\-S\-U\-L\-T}}
\index{D\-R\-E\-S\-U\-L\-T@{D\-R\-E\-S\-U\-L\-T}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{D\-R\-E\-S\-U\-L\-T}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf D\-R\-E\-S\-U\-L\-T}}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{R\-E\-S\-\_\-\-O\-K@{R\-E\-S\-\_\-\-O\-K}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-O\-K@{R\-E\-S\-\_\-\-O\-K}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\-E\-S\-\_\-\-O\-K}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}
}]\index{R\-E\-S\-\_\-\-E\-R\-R\-O\-R@{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-E\-R\-R\-O\-R@{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}
}]\index{R\-E\-S\-\_\-\-W\-R\-P\-R\-T@{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-W\-R\-P\-R\-T@{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}
}]\index{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y@{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y@{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}
}]\index{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R@{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R@{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}
}]\index{R\-E\-S\-\_\-\-O\-K@{R\-E\-S\-\_\-\-O\-K}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-O\-K@{R\-E\-S\-\_\-\-O\-K}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\-E\-S\-\_\-\-O\-K}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}
}]\index{R\-E\-S\-\_\-\-E\-R\-R\-O\-R@{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-E\-R\-R\-O\-R@{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\-E\-S\-\_\-\-E\-R\-R\-O\-R}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}
}]\index{R\-E\-S\-\_\-\-W\-R\-P\-R\-T@{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-W\-R\-P\-R\-T@{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\-E\-S\-\_\-\-W\-R\-P\-R\-T}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}
}]\index{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y@{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y@{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}
}]\index{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R@{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}!p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}}\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R@{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}}\item[{\em 
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}
}]\end{description}
\end{Desc}


Definition at line 17 of file diskio.\-h.


\begin{DoxyCode}
17              \{
18     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK} = 0,       \textcolor{comment}{/* 0: Successful */}
19     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{RES\_ERROR},     \textcolor{comment}{/* 1: R/W Error */}
20     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{RES\_WRPRT},     \textcolor{comment}{/* 2: Write Protected */}
21     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{RES\_NOTRDY},       \textcolor{comment}{/* 3: Not Ready */}
22     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{RES\_PARERR}        \textcolor{comment}{/* 4: Invalid Parameter */}
23 \} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{DRESULT};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a675c82658fb595f80887776220918167}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-initialize@{disk\-\_\-initialize}}
\index{disk\-\_\-initialize@{disk\-\_\-initialize}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-S\-T\-A\-T\-U\-S} disk\-\_\-initialize (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a675c82658fb595f80887776220918167}


Definition at line 249 of file diskio.\-c.



References A\-C\-M\-D41, C\-M\-D0, C\-M\-D1, C\-M\-D16, C\-M\-D58, C\-M\-D8, C\-S\-\_\-\-H, C\-T\-\_\-\-B\-L\-O\-C\-K, C\-T\-\_\-\-M\-M\-C, C\-T\-\_\-\-S\-D1, C\-T\-\_\-\-S\-D2, deselect, D\-L\-Y\-\_\-\-U\-S, rcvr\-\_\-spi, S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K, and S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T.


\begin{DoxyCode}
250   \{
251     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{PF\_BYTE} n, ty, cmd, buf[4];
252     \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{UINT} tmr;
253     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a2aada3fd8fce7bb0c5e36c9061d39b4e}{DSTATUS} s = 0;
254 
255     \textcolor{keywordflow}{if} (drv)
256         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT}; \textcolor{comment}{/* Supports only single drive */}
257     \textcolor{keywordflow}{if} (Stat & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{STA\_NODISK})
258         \textcolor{keywordflow}{return} Stat; \textcolor{comment}{/* No card in the socket */}
259 
260     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}(); \textcolor{comment}{/* Force socket power on */}
261     \textcolor{comment}{//FCLK\_SLOW();}
262     \textcolor{keywordflow}{for} (n = 10; n; n--)
263         \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}(); \textcolor{comment}{/* 80 dummy clocks */}
264 
265     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_ab6872874dbf2ac63a9885446a5a6da36}{CS\_H}();
266     \textcolor{keywordflow}{for} (n = 10; n; n--)
267         \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}(); \textcolor{comment}{/* 80 dummy clocks */}
268 
269     ty = 0;
270     \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a938c1466755f12fb04ac0d1b775584d1}{CMD0}, 0) == 1) \{ \textcolor{comment}{/* Enter Idle state */}
271         \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_ac75b3e0ad1fb013ea946fb49bbe65668}{CMD8}, 0x1AA) == 1) \{ \textcolor{comment}{/* SDv2? */}
272             \textcolor{keywordflow}{for} (n = 0; n < 4; n++)
273                 buf[n] = \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}(); \textcolor{comment}{/* Get trailing return value of R7 resp */}
274             \textcolor{keywordflow}{if} (buf[2] == 0x01 && buf[3] == 0xAA) \{ \textcolor{comment}{/* The card can work at vdd range of 2.7-3.6V */}
275                 \textcolor{keywordflow}{for} (tmr = 1000; tmr; tmr--) \{ \textcolor{comment}{/* Wait for leaving idle state (ACMD41 with HCS bit) */}
276                     \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a9b6fdfed1b57ac31269b6b9987e0761b}{ACMD41}, 1UL << 30) == 0)
277                         \textcolor{keywordflow}{break};
278                     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a43e9d16d3387936a12a4dd323feb2580}{DLY\_US}(1000);
279                 \}
280                 \textcolor{keywordflow}{if} (tmr && send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aa7a26b2cf17e1ff5967820a1fa41a7aa}{CMD58}, 0) == 0) \{ \textcolor{comment}{/* Check CCS bit in the OCR */}
281                     \textcolor{keywordflow}{for} (n = 0; n < 4; n++)
282                         buf[n] = \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}();
283                     ty = (buf[0] & 0x40) ? \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{CT\_SD2} | \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}{CT\_BLOCK} : 
      \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{CT\_SD2}; \textcolor{comment}{/* SDv2 */}
284                 \}
285             \}
286         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* SDv1 or MMCv3 */}
287             \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a9b6fdfed1b57ac31269b6b9987e0761b}{ACMD41}, 0) <= 1) \{
288                 ty = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}{CT\_SD1};
289                 cmd = \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a9b6fdfed1b57ac31269b6b9987e0761b}{ACMD41}; \textcolor{comment}{/* SDv1 */}
290             \} \textcolor{keywordflow}{else} \{
291                 ty = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ac52ec66c278308382fdf7b2c57f0ad8c}{CT\_MMC};
292                 cmd = \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aca9979f299fa78c1128d778084478673}{CMD1}; \textcolor{comment}{/* MMCv3 */}
293             \}
294             \textcolor{keywordflow}{for} (tmr = 1000; tmr; tmr--) \{ \textcolor{comment}{/* Wait for leaving idle state */}
295                 \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a9b6fdfed1b57ac31269b6b9987e0761b}{ACMD41}, 0) == 0)
296                     \textcolor{keywordflow}{break};
297                 \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a43e9d16d3387936a12a4dd323feb2580}{DLY\_US}(1000);
298             \}
299             \textcolor{keywordflow}{if} (!tmr || send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aaeab261b94f2031ba41a1d4d857c3541}{CMD16}, 512) != 0) \textcolor{comment}{/* Set R/W block length to 512 */}
300                 ty = 0;
301         \}
302     \}
303     CardType = ty;
304     \textcolor{keywordflow}{if} (ty) \{\textcolor{comment}{/* Initialization succeded */}
305         s &= ~\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT};
306         \textcolor{comment}{// 6. increase speed}
307         SPI2CON = 0; \textcolor{comment}{// disable the SPI2 module}
308         SPI2BRG = 0; \textcolor{comment}{// maximum possible baud rate = Fpb/2}
309         SPI2CON = 0x8120; \textcolor{comment}{// re-enable the SPI2 module}
310     \} \textcolor{keywordflow}{else} \{
311         \textcolor{comment}{/* Initialization failed */}
312         s |= \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT};
313     \}
314     Stat = s;
315 
316     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}();
317 
318     \textcolor{keywordflow}{return} Stat;
319 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac4daa8f0356ed3012459b52282a9911c}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-ioctl@{disk\-\_\-ioctl}}
\index{disk\-\_\-ioctl@{disk\-\_\-ioctl}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-ioctl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-R\-E\-S\-U\-L\-T} disk\-\_\-ioctl (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{void $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac4daa8f0356ed3012459b52282a9911c}


Definition at line 415 of file diskio.\-c.



References A\-C\-M\-D13, C\-M\-D10, C\-M\-D58, C\-M\-D9, C\-T\-\_\-\-S\-D1, C\-T\-\_\-\-S\-D2, C\-T\-R\-L\-\_\-\-S\-Y\-N\-C, deselect, G\-E\-T\-\_\-\-B\-L\-O\-C\-K\-\_\-\-S\-I\-Z\-E, G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-C\-O\-U\-N\-T, G\-E\-T\-\_\-\-S\-E\-C\-T\-O\-R\-\_\-\-S\-I\-Z\-E, M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-I\-D, M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-C\-S\-D, M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-O\-C\-R, M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-S\-D\-S\-T\-A\-T, M\-M\-C\-\_\-\-G\-E\-T\-\_\-\-T\-Y\-P\-E, rcvr\-\_\-spi, res, R\-E\-S\-\_\-\-E\-R\-R\-O\-R, R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y, R\-E\-S\-\_\-\-O\-K, R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R, and S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T.


\begin{DoxyCode}
418   \{
419     \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{DRESULT} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
420     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{PF\_BYTE} n, csd[16], *ptr = buff;
421     \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD} csize;
422 
423     \textcolor{keywordflow}{if} (drv)
424         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{RES\_PARERR};
425     \textcolor{keywordflow}{if} (Stat & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT})
426         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{RES\_NOTRDY};
427 
428     res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{RES\_ERROR};
429     \textcolor{keywordflow}{switch} (ctrl) \{
430     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a1b3c492f9aec325f0655941b75256f3c}{CTRL\_SYNC}: \textcolor{comment}{/* Flush dirty buffer if present */}
431         \textcolor{keywordflow}{if} (select()) \{
432             \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}();
433             res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
434         \}
435         \textcolor{keywordflow}{break};
436 
437     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}{GET\_SECTOR\_COUNT}: \textcolor{comment}{/* Get number of sectors on the disk (WORD) */}
438         \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a1fac6a251d7e7dc204d21639bf521459}{CMD9}, 0) == 0) && rcvr\_datablock(csd, 16)) \{
439             \textcolor{keywordflow}{if} ((csd[0] >> 6) == 1) \{ \textcolor{comment}{/* SDv2? */}
440                 csize = csd[9] + ((\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}) csd[8] << 8) + 1;
441                 *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}*) buff = (\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}) csize << 10;
442             \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* SDv1 or MMCv2 */}
443                 n = (csd[5] & 15) + ((csd[10] & 128) >> 7)
444                         + ((csd[9] & 3) << 1) + 2;
445                 csize = (csd[8] >> 6) + ((\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}) csd[7] << 2) + ((\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}) (csd[6]
446                         & 3) << 10) + 1;
447                 *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}*) buff = (\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}) csize << (n - 9);
448             \}
449             res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
450         \}
451         \textcolor{keywordflow}{break};
452 
453     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}{GET\_SECTOR\_SIZE}: \textcolor{comment}{/* Get sectors on the disk (WORD) */}
454         *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}*) buff = 512;
455         res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
456         \textcolor{keywordflow}{break};
457 
458     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}{GET\_BLOCK\_SIZE}: \textcolor{comment}{/* Get erase block size in unit of sectors (DWORD) */}
459         \textcolor{keywordflow}{if} (CardType & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a0db1b71113e73184a5ba511e7020a922}{CT\_SD2}) \{ \textcolor{comment}{/* SDv2? */}
460             \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a4be8f501d86d24b02923846db618fc71}{ACMD13}, 0) == 0) \{ \textcolor{comment}{/* Read SD status */}
461                 \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}();
462                 \textcolor{keywordflow}{if} (rcvr\_datablock(csd, 16)) \{ \textcolor{comment}{/* Read partial block */}
463                     \textcolor{keywordflow}{for} (n = 64 - 16; n; n--)
464                         \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}(); \textcolor{comment}{/* Purge trailing data */}
465                     *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}*) buff = 16UL << (csd[10] >> 4);
466                     res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
467                 \}
468             \}
469         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* SDv1 or MMCv3 */}
470             \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a1fac6a251d7e7dc204d21639bf521459}{CMD9}, 0) == 0) && rcvr\_datablock(csd, 16)) \{ \textcolor{comment}{/* Read CSD */}
471                 \textcolor{keywordflow}{if} (CardType & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ad1c9fc863ec15d3320b3850dc571626e}{CT\_SD1}) \{ \textcolor{comment}{/* SDv1 */}
472                     *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}*) buff = (((csd[10] & 63) << 1) + ((\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}) (csd[11]
473                             & 128) >> 7) + 1) << ((csd[13] >> 6) - 1);
474                 \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* MMCv3 */}
475                     *(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD}*) buff = ((\hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD}) ((csd[10] & 124) >> 2) + 1)
476                             * (((csd[11] & 3) << 3) + ((csd[11] & 224) >> 5)
477                                     + 1);
478                 \}
479                 res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
480             \}
481         \}
482         \textcolor{keywordflow}{break};
483 
484     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}{MMC\_GET\_TYPE}: \textcolor{comment}{/* Get card type flags (1 byte) */}
485         *ptr = CardType;
486         res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
487         \textcolor{keywordflow}{break};
488 
489     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}{MMC\_GET\_CSD}: \textcolor{comment}{/* Receive CSD as a data block (16 bytes) */}
490         \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a1fac6a251d7e7dc204d21639bf521459}{CMD9}, 0) == 0) \textcolor{comment}{/* READ\_CSD */}
491         && rcvr\_datablock(buff, 16))
492             res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
493         \textcolor{keywordflow}{break};
494 
495     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}{MMC\_GET\_CID}: \textcolor{comment}{/* Receive CID as a data block (16 bytes) */}
496         \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_ae7b800ed8e7bd52e6f570a5ce72b8104}{CMD10}, 0) == 0) \textcolor{comment}{/* READ\_CID */}
497         && rcvr\_datablock(buff, 16))
498             res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
499         \textcolor{keywordflow}{break};
500 
501     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}{MMC\_GET\_OCR}: \textcolor{comment}{/* Receive OCR as an R3 resp (4 bytes) */}
502         \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aa7a26b2cf17e1ff5967820a1fa41a7aa}{CMD58}, 0) == 0) \{ \textcolor{comment}{/* READ\_OCR */}
503             \textcolor{keywordflow}{for} (n = 0; n < 4; n++)
504                 *((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{PF\_BYTE}*) buff + n) = \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}();
505             res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
506         \}
507         \textcolor{keywordflow}{break};
508 
509     \textcolor{keywordflow}{case} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}{MMC\_GET\_SDSTAT}: \textcolor{comment}{/* Receive SD status as a data block (64 bytes) */}
510         \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a4be8f501d86d24b02923846db618fc71}{ACMD13}, 0) == 0) \{ \textcolor{comment}{/* SD\_STATUS */}
511             \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a40237b36c9547364acfe7e1891e1b909}{rcvr\_spi}();
512             \textcolor{keywordflow}{if} (rcvr\_datablock(buff, 64))
513                 res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
514         \}
515         \textcolor{keywordflow}{break};
516 
517     \textcolor{keywordflow}{default}:
518         res = \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{RES\_PARERR};
519     \}
520 
521     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}();
522 
523     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
524 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aa5fe7299e0f1ec5c6d16d4be2bf42e63}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-read@{disk\-\_\-read}}
\index{disk\-\_\-read@{disk\-\_\-read}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-R\-E\-S\-U\-L\-T} disk\-\_\-read (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E} $\ast$}]{, }
\item[{{\bf D\-W\-O\-R\-D}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_aa5fe7299e0f1ec5c6d16d4be2bf42e63}


Definition at line 336 of file diskio.\-c.



References C\-M\-D12, C\-M\-D17, C\-M\-D18, C\-T\-\_\-\-B\-L\-O\-C\-K, deselect, R\-E\-S\-\_\-\-E\-R\-R\-O\-R, R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y, R\-E\-S\-\_\-\-O\-K, R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R, and S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T.


\begin{DoxyCode}
340   \{
341     \textcolor{keywordflow}{if} (drv || !count)
342         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{RES\_PARERR};
343     \textcolor{keywordflow}{if} (Stat & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT})
344         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{RES\_NOTRDY};
345 
346     \textcolor{keywordflow}{if} (!(CardType & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}{CT\_BLOCK}))
347         sector *= 512; \textcolor{comment}{/* Convert to byte address if needed */}
348 
349     \textcolor{keywordflow}{if} (count == 1) \{ \textcolor{comment}{/* Single block read */}
350         \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a6bbfe7dc16a19b7f40efcf554b5666ad}{CMD17}, sector) == 0) \textcolor{comment}{/* READ\_SINGLE\_BLOCK */}
351         && rcvr\_datablock(buff, 512))
352             count = 0;
353     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* Multiple block read */}
354         \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a3d32c27a6be061b865ba539127278f14}{CMD18}, sector) == 0) \{ \textcolor{comment}{/* READ\_MULTIPLE\_BLOCK */}
355             \textcolor{keywordflow}{do} \{
356                 \textcolor{keywordflow}{if} (!rcvr\_datablock(buff, 512))
357                     \textcolor{keywordflow}{break};
358                 buff += 512;
359             \} \textcolor{keywordflow}{while} (--count);
360             send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8d6283c9b060afbaa0e6d1ff7e5ea7b8}{CMD12}, 0); \textcolor{comment}{/* STOP\_TRANSMISSION */}
361         \}
362     \}
363     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}();
364 
365     \textcolor{keywordflow}{return} count ? \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{RES\_ERROR} : \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
366 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac717d34bc6739a885781aa03689a3000}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-status@{disk\-\_\-status}}
\index{disk\-\_\-status@{disk\-\_\-status}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-S\-T\-A\-T\-U\-S} disk\-\_\-status (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac717d34bc6739a885781aa03689a3000}


Definition at line 325 of file diskio.\-c.



References S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T.


\begin{DoxyCode}
326   \{
327     \textcolor{keywordflow}{if} (drv)
328         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT}; \textcolor{comment}{/* Supports only single drive */}
329     \textcolor{keywordflow}{return} Stat;
330 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a045f8898a243c16aca4e64e069c49c03}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-timerproc@{disk\-\_\-timerproc}}
\index{disk\-\_\-timerproc@{disk\-\_\-timerproc}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-timerproc}]{\setlength{\rightskip}{0pt plus 5cm}void disk\-\_\-timerproc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_a045f8898a243c16aca4e64e069c49c03}


Definition at line 531 of file diskio.\-c.



References get\-C\-D(), get\-W\-P(), S\-T\-A\-\_\-\-N\-O\-D\-I\-S\-K, S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T, and S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T.


\begin{DoxyCode}
531                           \{
532     \textcolor{keyword}{static} \hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD} pv;
533     \hyperlink{p8_2pinguino_2libraries_2integer_8h_a197942eefa7db30960ae396d68339b97}{WORD} p;
534     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{PF\_BYTE} s;
535     \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{UINT} n;
536 
537     n = Timer1; \textcolor{comment}{/* 1000Hz decrement timer */}
538     \textcolor{keywordflow}{if} (n)
539         Timer1 = --n;
540     n = Timer2;
541     \textcolor{keywordflow}{if} (n)
542         Timer2 = --n;
543 
544     p = pv;
545     pv = \hyperlink{p8_2pinguino_2libraries_2sd_2sdmmc_8c_a333a9ed0bf9a0bcb9500528e812881ab}{getCD}() & \hyperlink{p8_2pinguino_2libraries_2sd_2sdmmc_8c_a57e48dc648d410cdfe264eecdbd74afc}{getWP}(); \textcolor{comment}{/* Sample socket switch */}
546 
547     \textcolor{keywordflow}{if} (p == pv) \{ \textcolor{comment}{/* Have contacts stabled? */}
548         s = Stat;
549 
550         \textcolor{keywordflow}{if} (p & \hyperlink{p8_2pinguino_2libraries_2sd_2sdmmc_8c_a57e48dc648d410cdfe264eecdbd74afc}{getWP}()) \textcolor{comment}{/* WP is H (write protected) */}
551             s |= \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{STA\_PROTECT};
552         \textcolor{keywordflow}{else}
553             \textcolor{comment}{/* WP is L (write enabled) */}
554             s &= ~\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{STA\_PROTECT};
555 
556         \textcolor{keywordflow}{if} (p & \hyperlink{p8_2pinguino_2libraries_2sd_2sdmmc_8c_a333a9ed0bf9a0bcb9500528e812881ab}{getCD}()) \textcolor{comment}{/* INS = H (Socket empty) */}
557             s |= (\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{STA\_NODISK} | \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT});
558         \textcolor{keywordflow}{else}
559             \textcolor{comment}{/* INS = L (Card inserted) */}
560             s &= ~\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{STA\_NODISK};
561 
562         Stat = s;
563     \}
564 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac2e3dea01f75cb43fd4e87f326709cfd}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!disk\-\_\-write@{disk\-\_\-write}}
\index{disk\-\_\-write@{disk\-\_\-write}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{disk\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-R\-E\-S\-U\-L\-T} disk\-\_\-write (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{const {\bf P\-F\-\_\-\-B\-Y\-T\-E} $\ast$}]{, }
\item[{{\bf D\-W\-O\-R\-D}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_ac2e3dea01f75cb43fd4e87f326709cfd}


Definition at line 373 of file diskio.\-c.



References A\-C\-M\-D23, C\-M\-D24, C\-M\-D25, C\-T\-\_\-\-B\-L\-O\-C\-K, C\-T\-\_\-\-S\-D\-C, deselect, R\-E\-S\-\_\-\-E\-R\-R\-O\-R, R\-E\-S\-\_\-\-N\-O\-T\-R\-D\-Y, R\-E\-S\-\_\-\-O\-K, R\-E\-S\-\_\-\-P\-A\-R\-E\-R\-R, R\-E\-S\-\_\-\-W\-R\-P\-R\-T, S\-T\-A\-\_\-\-N\-O\-I\-N\-I\-T, and S\-T\-A\-\_\-\-P\-R\-O\-T\-E\-C\-T.


\begin{DoxyCode}
377   \{
378     \textcolor{keywordflow}{if} (drv || !count)
379         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{RES\_PARERR};
380     \textcolor{keywordflow}{if} (Stat & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{STA\_NOINIT})
381         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{RES\_NOTRDY};
382     \textcolor{keywordflow}{if} (Stat & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{STA\_PROTECT})
383         \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{RES\_WRPRT};
384 
385     \textcolor{keywordflow}{if} (!(CardType & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a7d48ce54c27f4f60666309e8627fab47}{CT\_BLOCK}))
386         sector *= 512; \textcolor{comment}{/* Convert to byte address if needed */}
387 
388     \textcolor{keywordflow}{if} (count == 1) \{ \textcolor{comment}{/* Single block write */}
389         \textcolor{keywordflow}{if} ((send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a252300302c6f7960df547a7f5c25be85}{CMD24}, sector) == 0) \textcolor{comment}{/* WRITE\_BLOCK */}
390         && xmit\_datablock(buff, 0xFE))
391             count = 0;
392     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* Multiple block write */}
393         \textcolor{keywordflow}{if} (CardType & \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_ae76d94ac83c68d1f025cb0bcad77fa5d}{CT\_SDC})
394             send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aa38144d651e2880f92c65bb683621f78}{ACMD23}, count);
395         \textcolor{keywordflow}{if} (send\_cmd(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_aee2c673fba987178f4642531fdeefe9e}{CMD25}, sector) == 0) \{ \textcolor{comment}{/* WRITE\_MULTIPLE\_BLOCK */}
396             \textcolor{keywordflow}{do} \{
397                 \textcolor{keywordflow}{if} (!xmit\_datablock(buff, 0xFC))
398                     \textcolor{keywordflow}{break};
399                 buff += 512;
400             \} \textcolor{keywordflow}{while} (--count);
401             \textcolor{keywordflow}{if} (!xmit\_datablock(0, 0xFD)) \textcolor{comment}{/* STOP\_TRAN token */}
402                 count = 1;
403         \}
404     \}
405     \hyperlink{p32_2include_2pinguino_2libraries_2sd_2diskio_8c_a8b9919f14682d293a43bcd27bc06f480}{deselect}();
406 
407     \textcolor{keywordflow}{return} count ? \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{RES\_ERROR} : \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK};
408 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}{\index{p32/include/pinguino/libraries/sd/diskio.\-h@{p32/include/pinguino/libraries/sd/diskio.\-h}!get\-\_\-fattime@{get\-\_\-fattime}}
\index{get\-\_\-fattime@{get\-\_\-fattime}!p32/include/pinguino/libraries/sd/diskio.h@{p32/include/pinguino/libraries/sd/diskio.\-h}}
\subsubsection[{get\-\_\-fattime}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-W\-O\-R\-D} get\-\_\-fattime (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2sd_2diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}


Definition at line 583 of file diskio.\-c.


\begin{DoxyCode}
583                         \{
584     \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD} tmr = 0;
585 
586 \textcolor{comment}{// Pre-processor commands added so only use RTCC if the board is known}
587 \textcolor{comment}{// to support the RTCC ** Added 07 May 2012}
588 
589 \textcolor{comment}{// For boards known to support the RTCC library}
590 
591 \textcolor{preprocessor}{#if defined (PIC32\_PINGUINO) || defined (PIC32\_PINGUINO\_OTG)}
592 \textcolor{preprocessor}{}    \hyperlink{unionrtcc_time}{rtccTime} pTm, cTm;
593     \hyperlink{unionrtcc_date}{rtccDate} pDt, cDt;
594 
595     \hyperlink{rtcc_8h_a1dbff3cc5a57cfce880aa5c3d97389bf}{RTCC\_GetTimeDate}(&pTm, &pDt);   \textcolor{comment}{// get time and date from RTC}
596                                             \textcolor{comment}{// assumes RTC has been set and is running}
597                                             \textcolor{comment}{// OK - could be expanded to check that RTC}
598                                             \textcolor{comment}{// is running and that a valid value is}
599                                             \textcolor{comment}{// being returned by the RTC}
600     cTm = \hyperlink{p8_2pinguino_2core_2rtcc_8c_a827e4753332ef9b673ec39e960c3d0de}{RTCC\_ConvertTime}(&pTm);   \textcolor{comment}{// convert time from bcd to decimal format}
601     cDt = \hyperlink{p8_2pinguino_2core_2rtcc_8c_a6686cea9b23ceaf8ce04f794fe302533}{RTCC\_ConvertDate}(&pDt);   \textcolor{comment}{// convert date from bcd to decimal format}
602 
603     \textcolor{comment}{/* Pack date and time into a DWORD variable */}
604 \textcolor{comment}{//  tmr = (((DWORD) pDt.year - 80)) | ((DWORD) pDt.mon) | ((DWORD) pDt.mday)}
605 \textcolor{comment}{//          | (WORD) (pTm.hour) | (WORD) (pTm.min) | (WORD) (pTm.sec);}
606     tmr = cDt.\hyperlink{unionrtcc_date_ab02bacda75d48acac498f0c9f4e9b1cf}{year} + 20;
607    
608   \textcolor{comment}{// Correction according to a newer rtcc library, with diff struct members.}
609   
610      tmr = (tmr << 4) | cDt.\hyperlink{unionrtcc_date_ad5f8cd6773aef677b920ae4e4265bb10}{month};     \textcolor{comment}{// shifts left 4 bits and adds monthth}
611     tmr = (tmr << 5) | cDt.\hyperlink{unionrtcc_date_af980355fa766196214d34395ebed0a89}{dayofmonth};        \textcolor{comment}{// shifts left 5 bits and adds m.day}
612     tmr = (tmr << 5) | cTm.\hyperlink{unionrtcc_time_af8ebb6bc008ed8d3be395faf75ec1ebc}{hours};      \textcolor{comment}{// shifts left 5 bits and adds hour}
613     tmr = (tmr << 6) | cTm.\hyperlink{unionrtcc_time_a517646d9969ae9c9f8921e133b1b872b}{minutes};      \textcolor{comment}{// shift left 6 bits and adds minutes}
614     tmr = (tmr << 5) | (cTm.\hyperlink{unionrtcc_time_ae53e173daf8fcf970bb3324ae545f21c}{seconds}/2);  \textcolor{comment}{// shifts left 5 bits and adds seconds/2}
615 
616 \textcolor{comment}{//  For other boards use a fixed date and time of 01 Jan 2012 12:00:00}
617 \textcolor{preprocessor}{#else}
618 \textcolor{preprocessor}{}     tmr = 12 + 20;
619      tmr = (tmr << 4) | 1;       \textcolor{comment}{// shifts left 4 bits and adds month}
620      tmr = (tmr << 5) | 1;      \textcolor{comment}{// shifts left 5 bits and adds m.day}
621      tmr = (tmr << 5) | 12;     \textcolor{comment}{// shifts left 5 bits and adds hour}
622      tmr = (tmr << 6) | 0;       \textcolor{comment}{// shift left 6 bits and adds minutes}
623      tmr = (tmr << 5) | (0/2);   \textcolor{comment}{// shifts left 5 bits and adds seconds/2}
624 \textcolor{preprocessor}{#endif}
625 \textcolor{preprocessor}{}
626     \textcolor{keywordflow}{return} tmr;
627 \}
\end{DoxyCode}
