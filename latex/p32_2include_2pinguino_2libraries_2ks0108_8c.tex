\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c}{\section{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/ks0108.c File Reference}
\label{p32_2include_2pinguino_2libraries_2ks0108_8c}\index{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/ks0108.\-c@{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/ks0108.\-c}}
}
{\ttfamily \#include $<$ks0108.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a22e8c2b26bff3f3d05836483fa6c2cae}{K\-S0108\-\_\-\-H}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{delay450ns} (void)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_ad43b7e089483e6ac3caf7bde552d4d65}{Clear\-Page} (unsigned char \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a412cbb03b9cf3e5c6192d016ae82d2ae}{page}, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_acd6ca8b1578388f18579670e64ca296c}{Clear\-Screen} (unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a3f7a05b3c8541a2130449efd51bb6579}{Draw\-Line} (unsigned char x1, unsigned char y1, unsigned char x2, unsigned char y2, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a77a0dcdbcdff2658f868f235e831e8f1}{Draw\-Rect} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a5c16e7eb1d0c498c5e543a8f04d3058b}{Draw\-Round\-Rect} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, unsigned char radius, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a3bebd99216238d3f28471dfa1e4d0f69}{Fill\-Rect} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a21a1fb5b9a37bea139f7897f7d5d94d1}{Invert\-Rect} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height})
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a342fe3f71b847b9976ded6867c4a4a79}{Set\-Inverted} (unsigned char invert)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a71c7b3b0324424b2c136eccf22a39f95}{Set\-Dot} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a5ab6bdeb0b9fb75ac9b5b9e7a4579fff}{Select\-Font} (const char $\ast$\hyperlink{_s_t7565_8c_afc019ed26f2d57e2b415e12fb53ae54a}{font}, unsigned char color)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a203139d74e039622eb5e570746145309}{Print\-Number} (long n)
\item 
int \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{Put\-Char} (char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c})
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a358b5f7848ef553f4a1f565704ddcfc8}{Puts} (char $\ast$str)
\item 
unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_ad7d5e8610f38f19ccd2937e309ecb5bd}{Char\-Width} (char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c})
\item 
unsigned int \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_af7b524d07e995c35ebaf4ed8f0ffb29a}{String\-Width} (char $\ast$str)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a5140a64dd4c9ea1ad1eee8da49a9c4f5}{Cursor\-To} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y})
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a42938654d066f207722e5762c7f8b55f}{Goto\-X\-Y} (unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y})
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a00fe654a6a042d32be8dc3a63757f28d}{Init} (unsigned char invert)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{Enable} (void)
\item 
unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_aca5e683dc3c522db7c64b0c0c4578bdc}{Do\-Read\-Data} (unsigned char first)
\item 
unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_afd45895b94dadc20e7c97a2ad239a4e4}{Read\-Data} (void)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a57abdddef49468bd1932ba7290a8b793}{Write\-Command} (unsigned char cmd, unsigned char chip)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a413b33f7aebcabecd7fd68323ea42df0}{Write\-Data} (unsigned char dat)
\item 
void \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_acebe251b4a4c08309fe910cfb396a742}{Draw\-Bitmap} (const unsigned char $\ast$bitmap, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, unsigned char color)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structlcd_coord}{lcd\-Coord} \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}
\item 
unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_a92157335593e69c59a721a1280e0b3d8}{Inverted} =0
\item 
unsigned char \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_ad227d8fef22c139b580c6584729903a6}{Font\-Color}
\item 
const unsigned char $\ast$ \hyperlink{p32_2include_2pinguino_2libraries_2ks0108_8c_aec1bb1cfb9d32195e9100637399a37ef}{Font}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a22e8c2b26bff3f3d05836483fa6c2cae}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!K\-S0108\-\_\-\-H@{K\-S0108\-\_\-\-H}}
\index{K\-S0108\-\_\-\-H@{K\-S0108\-\_\-\-H}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{K\-S0108\-\_\-\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\-S0108\-\_\-\-H}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a22e8c2b26bff3f3d05836483fa6c2cae}


Definition at line 15 of file ks0108.\-c.



\subsection{Function Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_ad7d5e8610f38f19ccd2937e309ecb5bd}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Char\-Width@{Char\-Width}}
\index{Char\-Width@{Char\-Width}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Char\-Width}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Char\-Width (
\begin{DoxyParamCaption}
\item[{char}]{c}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_ad7d5e8610f38f19ccd2937e309ecb5bd}


Definition at line 479 of file ks0108.\-c.



References c, Font, F\-O\-N\-T\-\_\-\-C\-H\-A\-R\-\_\-\-C\-O\-U\-N\-T, F\-O\-N\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-C\-H\-A\-R, F\-O\-N\-T\-\_\-\-W\-I\-D\-T\-H\-\_\-\-T\-A\-B\-L\-E, and width.


\begin{DoxyCode}
479                                 \{
480     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width} = 0;
481     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} firstChar = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_abf840ca631179d25994d5f1dc3594646}{FONT\_FIRST\_CHAR});
482     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} charCount = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a4546cd12e3ae03bca0659ed77eeb872e}{FONT\_CHAR\_COUNT});
483 
484     \textcolor{comment}{// read width data}
485     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c} >= firstChar && \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c} < (firstChar+charCount)) \{
486         \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c} -= firstChar;
487         width = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae6bf0901cff58e47324da9487d0ee938}{FONT\_WIDTH\_TABLE}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c})+1;
488     \}
489 
490     \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width};
491 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_ad43b7e089483e6ac3caf7bde552d4d65}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Clear\-Page@{Clear\-Page}}
\index{Clear\-Page@{Clear\-Page}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Clear\-Page}]{\setlength{\rightskip}{0pt plus 5cm}void Clear\-Page (
\begin{DoxyParamCaption}
\item[{unsigned char}]{page, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_ad43b7e089483e6ac3caf7bde552d4d65}


Definition at line 54 of file ks0108.\-c.



References D\-I\-S\-P\-L\-A\-Y\-\_\-\-W\-I\-D\-T\-H, Goto\-X\-Y(), Write\-Data(), and x.


\begin{DoxyCode}
54                                                        \{
55     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x};
56     \textcolor{keywordflow}{for}(x=0; x < \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a46d67d48a7faab308f2e058dc35da83a}{DISPLAY\_WIDTH}; x++)\{  
57        \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(x, \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a412cbb03b9cf3e5c6192d016ae82d2ae}{page} * 8);
58        \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(color);
59    \}    
60 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_acd6ca8b1578388f18579670e64ca296c}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Clear\-Screen@{Clear\-Screen}}
\index{Clear\-Screen@{Clear\-Screen}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Clear\-Screen}]{\setlength{\rightskip}{0pt plus 5cm}void Clear\-Screen (
\begin{DoxyParamCaption}
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_acd6ca8b1578388f18579670e64ca296c}


Definition at line 62 of file ks0108.\-c.



References Clear\-Page(), Goto\-X\-Y(), and page.


\begin{DoxyCode}
62                                      \{
63  \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a412cbb03b9cf3e5c6192d016ae82d2ae}{page};
64     \textcolor{keywordflow}{for}( page = 0; page < 8; page++)\{
65         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(0, page * 8);
66         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af5c5ed63e70b1ad24c5ff241fd6736b8}{ClearPage}(page, color);
67     \}
68 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a5140a64dd4c9ea1ad1eee8da49a9c4f5}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Cursor\-To@{Cursor\-To}}
\index{Cursor\-To@{Cursor\-To}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Cursor\-To}]{\setlength{\rightskip}{0pt plus 5cm}void Cursor\-To (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a5140a64dd4c9ea1ad1eee8da49a9c4f5}


Definition at line 504 of file ks0108.\-c.



References Font, F\-O\-N\-T\-\_\-\-F\-I\-X\-E\-D\-\_\-\-W\-I\-D\-T\-H, F\-O\-N\-T\-\_\-\-H\-E\-I\-G\-H\-T, and Goto\-X\-Y().


\begin{DoxyCode}
504                                                 \{    \textcolor{comment}{// 0 based coordinates for fixed width fonts (i.e.
       systemFont5x7)}
505    \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}( \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} * (*(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_afc65866121cd2eba3caa85d2946eeec0}{FONT\_FIXED\_WIDTH})+1),
506            \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} * (*(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a33f4fac49f2a5e27e2857eb27f054510}{FONT\_HEIGHT})+1)
507          ) ; 
508 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!delay450ns@{delay450ns}}
\index{delay450ns@{delay450ns}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{delay450ns}]{\setlength{\rightskip}{0pt plus 5cm}void delay450ns (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}
Just a 450ns delay Instruction takes 12.\-5 nano seconds (at 80\-M\-Hz). This function expects 80\-M\-Hz clock, default for Pinguino32\-X 

Definition at line 38 of file ks0108.\-c.



References nop.


\begin{DoxyCode}
38                      \{
39     \textcolor{comment}{//36 nops for about 450ns at 80MHz? Need test it with a good osciloscope.}
40     \textcolor{comment}{//asm("di"); //disable all interrupts}
41     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); 
42     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); 
43     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); 
44     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); 
45     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); 
46     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"});
47     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"});
48     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"});
49     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"}); \textcolor{keyword}{asm}(\textcolor{stringliteral}{"NOP"});
50     \textcolor{comment}{//asm("ei"); //enable all interrupts}
51     \textcolor{comment}{//Delayus(1);}
52 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_aca5e683dc3c522db7c64b0c0c4578bdc}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Do\-Read\-Data@{Do\-Read\-Data}}
\index{Do\-Read\-Data@{Do\-Read\-Data}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Do\-Read\-Data}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Do\-Read\-Data (
\begin{DoxyParamCaption}
\item[{unsigned char}]{first}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_aca5e683dc3c522db7c64b0c0c4578bdc}


Definition at line 559 of file ks0108.\-c.



References C\-H\-I\-P2, C\-H\-I\-P\-\_\-\-W\-I\-D\-T\-H, C\-S\-E\-L1, C\-S\-E\-L2, D\-\_\-\-I, delay450ns(), E\-N, fast\-Write\-High(), fast\-Write\-Low(), Goto\-X\-Y(), Inverted, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-D\-I\-R, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-I\-N, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-O\-U\-T, L\-C\-D\-\_\-\-S\-E\-T\-\_\-\-A\-D\-D, R\-\_\-\-W, Write\-Command(), lcd\-Coord\-::x, and lcd\-Coord\-::y.


\begin{DoxyCode}
559                                               \{
560     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} dat;
561     \textcolor{comment}{//unsigned char i;}
562 
563     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = 0x00;
564     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0xFF;                \textcolor{comment}{// data port is input}
565 
566     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} < \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH}) \{
567         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});           \textcolor{comment}{// deselect chip 2}
568         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});         \textcolor{comment}{// select chip 1}
569     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} >= \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH}) \{
570         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});           \textcolor{comment}{// deselect chip 1}
571         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});         \textcolor{comment}{// select chip 2}
572     \}
573     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} == \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH} && first) \{    \textcolor{comment}{// chip2 X-address = 0}
574         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a8f56dd11a06a5f7dcd2045a555143cb4}{LCD\_SET\_ADD}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a15e370cefbcf8cd791fd46d18bff260a}{CHIP2});   \textcolor{comment}{// wuff wuff}
575     \}
576 
577     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae74d7a7a200a441a3ca10ca39937fd9c}{D\_I});                 \textcolor{comment}{// D/I = 1}
578     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a58cc6c67bb1f75b4bc8951fead179541}{R\_W});                 \textcolor{comment}{// R/W = 1}
579 
580     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a22e6626f2c98ed902f8ded47f6438c05}{EN});                   \textcolor{comment}{// EN high level width: min. 450ns}
581 
582     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{delay450ns}();
583 
584     dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aaf469a71c776564ce543a8e73e257068}{LCD\_DATA\_IN};                   \textcolor{comment}{// read Data}
585 
586     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a22e6626f2c98ed902f8ded47f6438c05}{EN}); 
587 \textcolor{comment}{//  for(volatile unsigned char i=0; i<8; i++);  // big delay loop in Fabian's code, was 5.7us, replaced by
       450ns delay below}
588     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{delay450ns}();
589     
590     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0x00;                 \textcolor{comment}{//Output mode?}
591 
592     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y});
593 
594     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted})
595         dat = ~dat;
596     \textcolor{keywordflow}{return} dat;
597 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_acebe251b4a4c08309fe910cfb396a742}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Draw\-Bitmap@{Draw\-Bitmap}}
\index{Draw\-Bitmap@{Draw\-Bitmap}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Draw\-Bitmap}]{\setlength{\rightskip}{0pt plus 5cm}void Draw\-Bitmap (
\begin{DoxyParamCaption}
\item[{const unsigned char $\ast$}]{bitmap, }
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_acebe251b4a4c08309fe910cfb396a742}
Loads a Bitmap to G\-L\-C\-D 

Definition at line 694 of file ks0108.\-c.



References B\-L\-A\-C\-K, Goto\-X\-Y(), height, width, and Write\-Data().


\begin{DoxyCode}
694                                                                                                     \{
695 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height};
696 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} i, j;
697 
698   width = *(bitmap++); 
699   height = *(bitmap++);
700   \textcolor{keywordflow}{for}(j = 0; j < height / 8; j++) \{
701      \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} + (j*8) );
702      \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
703          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} displayData = *(bitmap++);
704          \textcolor{keywordflow}{if}(color == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK})
705             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(displayData);
706          \textcolor{keywordflow}{else}
707             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(~displayData);
708      \}
709   \}
710 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a3f7a05b3c8541a2130449efd51bb6579}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Draw\-Line@{Draw\-Line}}
\index{Draw\-Line@{Draw\-Line}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Draw\-Line}]{\setlength{\rightskip}{0pt plus 5cm}void Draw\-Line (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x1, }
\item[{unsigned char}]{y1, }
\item[{unsigned char}]{x2, }
\item[{unsigned char}]{y2, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a3f7a05b3c8541a2130449efd51bb6579}


Definition at line 70 of file ks0108.\-c.



References Draw\-Hori\-Line, Draw\-Line(), Draw\-Vert\-Line, and y.


\begin{DoxyCode}
70                                                                                                            
      \{
71     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} length, i, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, yAlt, xTmp, yTmp;
72     \textcolor{keywordtype}{int} m;
73     \textcolor{comment}{//}
74     \textcolor{comment}{// vertical line}
75     \textcolor{comment}{//}
76     \textcolor{keywordflow}{if}(x1 == x2) \{
77         \textcolor{comment}{// x1|y1 must be the upper point}
78         \textcolor{keywordflow}{if}(y1 > y2) \{
79             yTmp = y1;
80             y1 = y2;
81             y2 = yTmp;
82         \}
83         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aebd94f4f4affba8649b2a8c86a77c9a8}{DrawVertLine}(x1, y1, y2-y1, color);
84     
85     \textcolor{comment}{//}
86     \textcolor{comment}{// horizontal line}
87     \textcolor{comment}{//}
88     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(y1 == y2) \{   
89         \textcolor{comment}{// x1|y1 must be the left point}
90         \textcolor{keywordflow}{if}(x1 > x2) \{
91             xTmp = x1;
92             x1 = x2;
93             x2 = xTmp;
94         \}
95         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a850caf832e335987d2afb2466eba766f}{DrawHoriLine}(x1, y1, x2-x1, color);
96     
97     \textcolor{comment}{//}
98     \textcolor{comment}{// angled line :)}
99     \textcolor{comment}{//}
100     \} \textcolor{keywordflow}{else} \{
101         \textcolor{comment}{// angle >= 45°     if((y2-y1) >= (x2-x1) || (y1-y2) >= (x2-x1)) \{
            // x1 must be smaller than x2
            if(x1 > x2) \{
                xTmp = x1;
                yTmp = y1;
                x1 = x2;
                y1 = y2;
                x2 = xTmp;
                y2 = yTmp;
            \}
        
            length = x2-x1;     // not really the length :)
            m = ((y2-y1)*200)/length;
            yAlt = y1;
            
            for(i=0; i<=length; i++) \{
                y = ((m*i)/200)+y1;
                
                if((m*i)%200 >= 100)
                    y++;
                else if((m*i)%200 <= -100)
                    y--;
                
                DrawLine(x1+i, yAlt, x1+i, y, color);
                
                if(length <= (y2-y1) && y1 < y2)
                    yAlt = y+1;
                else if(length <= (y1-y2) && y1 > y2)
                    yAlt = y-1;
                else
                    yAlt = y;
            \}
        
        // angle < 45°
      \} else \{
            // y1 must be smaller than y2
            if(y1 > y2) \{
                xTmp = x1;
                yTmp = y1;
                x1 = x2;
                y1 = y2;
                x2 = xTmp;
                y2 = yTmp;
            \}
            
            length = y2-y1;
            m = ((x2-x1)*200)/length;
            yAlt = x1;
            
            for(i=0; i<=length; i++) \{
                y = ((m*i)/200)+x1;
                
                if((m*i)%200 >= 100)
                    y++;
                else if((m*i)%200 <= -100)
                    y--;
                
                DrawLine(yAlt, y1+i, y, y1+i, color);
                if(length <= (x2-x1) && x1 < x2)
                    yAlt = y+1;
                else if(length <= (x1-x2) && x1 > x2)
                    yAlt = y-1;
                else
                    yAlt = y;
            \}
        \}
    \}
\}
}
102         \textcolor{keywordflow}{if}((y2-y1) >= (x2-x1) || (y1-y2) >= (x2-x1)) \{
103             \textcolor{comment}{// x1 must be smaller than x2}
104             \textcolor{keywordflow}{if}(x1 > x2) \{
105                 xTmp = x1;
106                 yTmp = y1;
107                 x1 = x2;
108                 y1 = y2;
109                 x2 = xTmp;
110                 y2 = yTmp;
111             \}
112         
113             length = x2-x1;     \textcolor{comment}{// not really the length :)}
114             m = ((y2-y1)*200)/length;
115             yAlt = y1;
116             
117             \textcolor{keywordflow}{for}(i=0; i<=length; i++) \{
118                 y = ((m*i)/200)+y1;
119                 
120                 \textcolor{keywordflow}{if}((m*i)%200 >= 100)
121                     y++;
122                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((m*i)%200 <= -100)
123                     y--;
124                 
125                 \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ad98730934019be858a310a23879b3230}{DrawLine}(x1+i, yAlt, x1+i, y, color);
126                 
127                 \textcolor{keywordflow}{if}(length <= (y2-y1) && y1 < y2)
128                     yAlt = y+1;
129                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(length <= (y1-y2) && y1 > y2)
130                     yAlt = y-1;
131                 \textcolor{keywordflow}{else}
132                     yAlt = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y};
133             \}
134         
135         \textcolor{comment}{// angle < 45°      \} else \{
            // y1 must be smaller than y2
            if(y1 > y2) \{
                xTmp = x1;
                yTmp = y1;
                x1 = x2;
                y1 = y2;
                x2 = xTmp;
                y2 = yTmp;
            \}
            
            length = y2-y1;
            m = ((x2-x1)*200)/length;
            yAlt = x1;
            
            for(i=0; i<=length; i++) \{
                y = ((m*i)/200)+x1;
                
                if((m*i)%200 >= 100)
                    y++;
                else if((m*i)%200 <= -100)
                    y--;
                
                DrawLine(yAlt, y1+i, y, y1+i, color);
                if(length <= (x2-x1) && x1 < x2)
                    yAlt = y+1;
                else if(length <= (x1-x2) && x1 > x2)
                    yAlt = y-1;
                else
                    yAlt = y;
            \}
        \}
    \}
\}
}
136         \} \textcolor{keywordflow}{else} \{
137             \textcolor{comment}{// y1 must be smaller than y2}
138             \textcolor{keywordflow}{if}(y1 > y2) \{
139                 xTmp = x1;
140                 yTmp = y1;
141                 x1 = x2;
142                 y1 = y2;
143                 x2 = xTmp;
144                 y2 = yTmp;
145             \}
146             
147             length = y2-y1;
148             m = ((x2-x1)*200)/length;
149             yAlt = x1;
150             
151             \textcolor{keywordflow}{for}(i=0; i<=length; i++) \{
152                 y = ((m*i)/200)+x1;
153                 
154                 \textcolor{keywordflow}{if}((m*i)%200 >= 100)
155                     y++;
156                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((m*i)%200 <= -100)
157                     y--;
158                 
159                 \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ad98730934019be858a310a23879b3230}{DrawLine}(yAlt, y1+i, y, y1+i, color);
160                 \textcolor{keywordflow}{if}(length <= (x2-x1) && x1 < x2)
161                     yAlt = y+1;
162                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(length <= (x1-x2) && x1 > x2)
163                     yAlt = y-1;
164                 \textcolor{keywordflow}{else}
165                     yAlt = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y};
166             \}
167         \}
168     \}
169 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a77a0dcdbcdff2658f868f235e831e8f1}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Draw\-Rect@{Draw\-Rect}}
\index{Draw\-Rect@{Draw\-Rect}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Draw\-Rect}]{\setlength{\rightskip}{0pt plus 5cm}void Draw\-Rect (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{width, }
\item[{unsigned char}]{height, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a77a0dcdbcdff2658f868f235e831e8f1}


Definition at line 171 of file ks0108.\-c.



References Draw\-Hori\-Line, and Draw\-Vert\-Line.


\begin{DoxyCode}
171                                                                                                            
           \{
172     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a850caf832e335987d2afb2466eba766f}{DrawHoriLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, color);                \textcolor{comment}{// top}
173     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a850caf832e335987d2afb2466eba766f}{DrawHoriLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, color);       \textcolor{comment}{// bottom}
174     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aebd94f4f4affba8649b2a8c86a77c9a8}{DrawVertLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, color);              \textcolor{comment}{// left}
175     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aebd94f4f4affba8649b2a8c86a77c9a8}{DrawVertLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, color);       \textcolor{comment}{// right}
176 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a5c16e7eb1d0c498c5e543a8f04d3058b}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Draw\-Round\-Rect@{Draw\-Round\-Rect}}
\index{Draw\-Round\-Rect@{Draw\-Round\-Rect}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Draw\-Round\-Rect}]{\setlength{\rightskip}{0pt plus 5cm}void Draw\-Round\-Rect (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{width, }
\item[{unsigned char}]{height, }
\item[{unsigned char}]{radius, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a5c16e7eb1d0c498c5e543a8f04d3058b}


Definition at line 178 of file ks0108.\-c.



References Draw\-Hori\-Line, Draw\-Vert\-Line, and Set\-Dot().


\begin{DoxyCode}
178                                                                                                            
                                      \{
179     \textcolor{keywordtype}{int} tSwitch, x1 = 0, y1 = radius;
180     tSwitch = 3 - 2 * radius;
181 
182     \textcolor{keywordflow}{while} (x1 <= y1) \{
183         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius - x1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius - y1, color);
184         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius - y1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius - x1, color);
185 
186         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-radius + x1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius - y1, color);
187         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-radius + y1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius - x1, color);
188 
189         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-radius + x1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-radius + y1, color);
190         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-radius + y1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-radius + x1, color);
191 
192         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius - x1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-radius + y1, color);
193         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a070e2023efb07893364208907abeb59c}{SetDot}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius - y1, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-radius + x1, color);
194 
195         \textcolor{keywordflow}{if} (tSwitch < 0) \{
196             tSwitch += (4 * x1 + 6);
197         \} \textcolor{keywordflow}{else} \{
198             tSwitch += (4 * (x1 - y1) + 10);
199             y1--;
200         \}
201         x1++;
202     \}
203 
204     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a850caf832e335987d2afb2466eba766f}{DrawHoriLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}, \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-(2*radius), color);          \textcolor{comment}{// top}
205     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a850caf832e335987d2afb2466eba766f}{DrawHoriLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+radius, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}, \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}-(2*radius), color); \textcolor{comment}{// bottom}
206     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aebd94f4f4affba8649b2a8c86a77c9a8}{DrawVertLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-(2*radius), color);        \textcolor{comment}{// left}
207     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aebd94f4f4affba8649b2a8c86a77c9a8}{DrawVertLine}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}+\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+radius, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-(2*radius), color); \textcolor{comment}{// right}
208 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Enable@{Enable}}
\index{Enable@{Enable}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Enable}]{\setlength{\rightskip}{0pt plus 5cm}void Enable (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}


Definition at line 551 of file ks0108.\-c.



References delay450ns(), E\-N, fast\-Write\-High(), and fast\-Write\-Low().


\begin{DoxyCode}
551                   \{
552     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a22e6626f2c98ed902f8ded47f6438c05}{EN});                   \textcolor{comment}{// EN high level width: min. 450ns}
553     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{delay450ns}();
554     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a22e6626f2c98ed902f8ded47f6438c05}{EN});
555 \textcolor{comment}{//for(volatile unsigned char i=0; i<8; i++);  // big delay loop in Fabian's code, was 5.7us, replaced by
       call to 450ns delay function}
556     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a3033de18501eced42691f424dc40c457}{delay450ns}(); 
557 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a3bebd99216238d3f28471dfa1e4d0f69}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Fill\-Rect@{Fill\-Rect}}
\index{Fill\-Rect@{Fill\-Rect}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Fill\-Rect}]{\setlength{\rightskip}{0pt plus 5cm}void Fill\-Rect (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{width, }
\item[{unsigned char}]{height, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a3bebd99216238d3f28471dfa1e4d0f69}
Hardware-\/\-Functions 

Definition at line 213 of file ks0108.\-c.



References B\-L\-A\-C\-K, Goto\-X\-Y(), h, height, Read\-Data(), width, and Write\-Data().


\begin{DoxyCode}
213                                                                                                            
           \{
214     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} mask, pageOffset, \hyperlink{____adb_8c_a65bb5c5a7c282f3e11d4399fb75dc1ef}{h}, i, dat;
215     \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}++;
216 
217     pageOffset = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}%8;
218     \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} -= pageOffset;
219     mask = 0xFF;
220     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height} < 8-pageOffset) \{
221         mask >>= (8-\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height});
222         h = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height};
223     \} \textcolor{keywordflow}{else} \{
224         h = 8-pageOffset;
225     \}
226     mask <<= pageOffset;
227 
228     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y});
229     \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
230         dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
231 
232         \textcolor{keywordflow}{if}(color == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK}) \{
233             dat |= mask;
234         \} \textcolor{keywordflow}{else} \{
235             dat &= ~mask;
236         \}
237 
238         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);
239     \}
240 
241     \textcolor{keywordflow}{while}(h+8 <= \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}) \{
242         h += 8;
243         \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} += 8;
244         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y});
245 
246         \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
247             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(color);
248         \}
249     \}
250 
251     \textcolor{keywordflow}{if}(h < \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}) \{
252         mask = ~(0xFF << (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-\hyperlink{____adb_8c_a65bb5c5a7c282f3e11d4399fb75dc1ef}{h}));
253         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+8);
254 
255         \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
256             dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
257 
258             \textcolor{keywordflow}{if}(color == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK}) \{
259                 dat |= mask;
260             \} \textcolor{keywordflow}{else} \{
261                 dat &= ~mask;
262             \}
263 
264             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);
265         \}
266     \}
267 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a42938654d066f207722e5762c7f8b55f}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Goto\-X\-Y@{Goto\-X\-Y}}
\index{Goto\-X\-Y@{Goto\-X\-Y}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Goto\-X\-Y}]{\setlength{\rightskip}{0pt plus 5cm}void Goto\-X\-Y (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a42938654d066f207722e5762c7f8b55f}


Definition at line 510 of file ks0108.\-c.



References C\-H\-I\-P\-\_\-\-W\-I\-D\-T\-H, D\-I\-S\-P\-L\-A\-Y\-\_\-\-H\-E\-I\-G\-H\-T, D\-I\-S\-P\-L\-A\-Y\-\_\-\-W\-I\-D\-T\-H, L\-C\-D\-\_\-\-S\-E\-T\-\_\-\-A\-D\-D, L\-C\-D\-\_\-\-S\-E\-T\-\_\-\-P\-A\-G\-E, lcd\-Coord\-::page, Write\-Command(), lcd\-Coord\-::x, x, lcd\-Coord\-::y, and y.


\begin{DoxyCode}
510                                               \{
511   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} chip, cmd;
512     
513   \textcolor{keywordflow}{if}( (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} > \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a46d67d48a7faab308f2e058dc35da83a}{DISPLAY\_WIDTH}-1) || (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} > \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a43b7b2061f733ea1dc0a5a6028e131ff}{DISPLAY\_HEIGHT}-1) )    \textcolor{comment}{// exit if
       coordinates are not legal}
514     \textcolor{keywordflow}{return};
515   \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x};                               \textcolor{comment}{// save new coordinates}
516   \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y} = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y};
517     
518   \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}/8 != \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_aadf5933189a2ff92dae7ee979000ff43}{page}) \{
519     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_aadf5933189a2ff92dae7ee979000ff43}{page} = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}/8;
520     cmd = \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a57cd5350bbd1a24edc81b12cfe2d7bca}{LCD\_SET\_PAGE} | \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_aadf5933189a2ff92dae7ee979000ff43}{page};       \textcolor{comment}{// set y address on all chips   }
521     \textcolor{keywordflow}{for}(chip=0; chip < \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a46d67d48a7faab308f2e058dc35da83a}{DISPLAY\_WIDTH}/\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH}; chip++)\{
522        \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(cmd, chip); 
523     \}
524   \}
525   chip = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x}/\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH};
526   \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} % \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_aeddcf705e650e4abf53f05c69f65ac50}{CHIP\_WIDTH};
527   cmd = \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a8f56dd11a06a5f7dcd2045a555143cb4}{LCD\_SET\_ADD} | \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x};
528   \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(cmd, chip);                  \textcolor{comment}{// set x address on active chip }
529 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a00fe654a6a042d32be8dc3a63757f28d}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Init@{Init}}
\index{Init@{Init}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Init}]{\setlength{\rightskip}{0pt plus 5cm}void Init (
\begin{DoxyParamCaption}
\item[{unsigned char}]{invert}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a00fe654a6a042d32be8dc3a63757f28d}
Start G\-L\-C\-D... 

Definition at line 532 of file ks0108.\-c.



References B\-L\-A\-C\-K, C\-H\-I\-P1, C\-H\-I\-P2, Clear\-Screen(), Goto\-X\-Y(), Inverted, L\-C\-D\-\_\-\-C\-M\-D\-\_\-\-D\-I\-R, L\-C\-D\-\_\-\-D\-I\-S\-P\-\_\-\-S\-T\-A\-R\-T, L\-C\-D\-\_\-\-O\-N, lcd\-Coord\-::page, W\-H\-I\-T\-E, Write\-Command(), lcd\-Coord\-::x, and lcd\-Coord\-::y.


\begin{DoxyCode}
532                                 \{
533     \textcolor{comment}{/*RSTOUT = 0;}
534 \textcolor{comment}{    RST = 1;*/}
535     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} = 0;
536     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y} = 0;
537     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_aadf5933189a2ff92dae7ee979000ff43}{page} = 0;
538 
539     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted} = invert;
540 
541     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3a766b357036040f0c8ecbad00896105}{LCD\_CMD\_DIR} = 0x00;                          \textcolor{comment}{// command port is output}
542     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a47a809dfec086fdeca93dedc4fb83b44}{LCD\_ON}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a0c1a0a2df5479814f6ffc82c35c323cb}{CHIP1});             \textcolor{comment}{// power on}
543     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a47a809dfec086fdeca93dedc4fb83b44}{LCD\_ON}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a15e370cefbcf8cd791fd46d18bff260a}{CHIP2});
544 
545     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a0f48accc6ca33f88a532d1fda6ea26ae}{LCD\_DISP\_START}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a0c1a0a2df5479814f6ffc82c35c323cb}{CHIP1});     \textcolor{comment}{// display start line = 0}
546     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a0f48accc6ca33f88a532d1fda6ea26ae}{LCD\_DISP\_START}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a15e370cefbcf8cd791fd46d18bff260a}{CHIP2});
547     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4ba5c03deff46289ed6fe8b5af542ccc}{ClearScreen}(invert ? \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK} : \hyperlink{ili9325_8h_a87b537f5fa5c109d3c05c13d6b18f382}{WHITE});       \textcolor{comment}{// display clear}
548     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(0,0);
549 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a21a1fb5b9a37bea139f7897f7d5d94d1}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Invert\-Rect@{Invert\-Rect}}
\index{Invert\-Rect@{Invert\-Rect}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Invert\-Rect}]{\setlength{\rightskip}{0pt plus 5cm}void Invert\-Rect (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{width, }
\item[{unsigned char}]{height}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a21a1fb5b9a37bea139f7897f7d5d94d1}


Definition at line 269 of file ks0108.\-c.



References Goto\-X\-Y(), h, height, Read\-Data(), width, and Write\-Data().


\begin{DoxyCode}
269                                                                                              \{
270     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} mask, pageOffset, \hyperlink{____adb_8c_a65bb5c5a7c282f3e11d4399fb75dc1ef}{h}, i, dat, tmpData;
271     \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}++;
272 
273     pageOffset = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}%8;
274     \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} -= pageOffset;
275     mask = 0xFF;
276     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height} < 8-pageOffset) \{
277         mask >>= (8-\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height});
278         h = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height};
279     \} \textcolor{keywordflow}{else} \{
280         h = 8-pageOffset;
281     \}
282     mask <<= pageOffset;
283 
284     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y});
285     \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
286         dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
287         tmpData = ~dat;
288         dat = (tmpData & mask) | (dat & ~mask);
289         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);
290     \}
291 
292     \textcolor{keywordflow}{while}(h+8 <= \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}) \{
293         h += 8;
294         \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} += 8;
295         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y});
296 
297         \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
298             dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
299             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(~dat);
300         \}
301     \}
302 
303     \textcolor{keywordflow}{if}(h < \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}) \{
304         mask = ~(0xFF << (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height}-\hyperlink{____adb_8c_a65bb5c5a7c282f3e11d4399fb75dc1ef}{h}));
305         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}+8);
306 
307         \textcolor{keywordflow}{for}(i=0; i<=\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; i++) \{
308             dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
309             tmpData = ~dat;
310             dat = (tmpData & mask) | (dat & ~mask);
311             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);
312         \}
313     \}
314 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a203139d74e039622eb5e570746145309}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Print\-Number@{Print\-Number}}
\index{Print\-Number@{Print\-Number}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Print\-Number}]{\setlength{\rightskip}{0pt plus 5cm}void Print\-Number (
\begin{DoxyParamCaption}
\item[{long}]{n}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a203139d74e039622eb5e570746145309}
Print a integer number on L\-C\-D 

Definition at line 347 of file ks0108.\-c.



References Put\-Char().


\begin{DoxyCode}
347                         \{
348    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} buf[10];  \textcolor{comment}{// prints up to 10 digits  }
349    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} i=0;
350    \textcolor{keywordflow}{if}(n==0)
351        \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{PutChar}(\textcolor{charliteral}{'0'});
352    \textcolor{keywordflow}{else}\{
353      \textcolor{keywordflow}{if}(n < 0)\{
354         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{PutChar}(\textcolor{charliteral}{'-'});
355         n = -n;
356      \}
357      \textcolor{keywordflow}{while}(n>0 && i <= 10)\{
358        buf[i++] = n % 10;  \textcolor{comment}{// n % base}
359        n /= 10;   \textcolor{comment}{// n/= base}
360      \}
361      \textcolor{keywordflow}{for}(; i >0; i--)
362          \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{PutChar}((\textcolor{keywordtype}{char}) (buf[i-1] < 10 ? \textcolor{charliteral}{'0'} + buf[i-1] : \textcolor{charliteral}{'A'} + buf[i-1] - 10));   
363    \}
364 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Put\-Char@{Put\-Char}}
\index{Put\-Char@{Put\-Char}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Put\-Char}]{\setlength{\rightskip}{0pt plus 5cm}int Put\-Char (
\begin{DoxyParamCaption}
\item[{char}]{c}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}
Print a float number to L\-C\-D 

Definition at line 405 of file ks0108.\-c.



References B\-L\-A\-C\-K, c, Font, F\-O\-N\-T\-\_\-\-C\-H\-A\-R\-\_\-\-C\-O\-U\-N\-T, F\-O\-N\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-C\-H\-A\-R, F\-O\-N\-T\-\_\-\-F\-I\-X\-E\-D\-\_\-\-W\-I\-D\-T\-H, F\-O\-N\-T\-\_\-\-H\-E\-I\-G\-H\-T, F\-O\-N\-T\-\_\-\-L\-E\-N\-G\-T\-H, F\-O\-N\-T\-\_\-\-W\-I\-D\-T\-H\-\_\-\-T\-A\-B\-L\-E, Font\-Color, Goto\-X\-Y(), height, page, width, Write\-Data(), lcd\-Coord\-::x, x, lcd\-Coord\-::y, and y.


\begin{DoxyCode}
405                     \{
406     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width} = 0;
407     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0b80b0357f56f22e1f503dd0ec20e47f}{height} = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a33f4fac49f2a5e27e2857eb27f054510}{FONT\_HEIGHT});
408     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} bytes = (height+7)/8;
409     
410     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} firstChar = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_abf840ca631179d25994d5f1dc3594646}{FONT\_FIRST\_CHAR});
411     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} charCount = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a4546cd12e3ae03bca0659ed77eeb872e}{FONT\_CHAR\_COUNT});
412     
413     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} index = 0;
414     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x};
415     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y} = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y};
416     
417     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} i, j;
418     
419     \textcolor{keywordflow}{if}(c < firstChar || c >= (firstChar+charCount)) \{
420         \textcolor{keywordflow}{return} 1;
421     \}
422     \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c}-= firstChar;
423 
424     \textcolor{keywordflow}{if}( *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae06dc7b9804bb102859f0e32754e79a5}{FONT\_LENGTH}) == 0 && *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae06dc7b9804bb102859f0e32754e79a5}{FONT\_LENGTH}+1) == 0) \{
425     \textcolor{comment}{// zero length is flag indicating fixed width font (array does not contain width data entries)}
426        width = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_afc65866121cd2eba3caa85d2946eeec0}{FONT\_FIXED\_WIDTH}); 
427        index = \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c}*bytes*width+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae6bf0901cff58e47324da9487d0ee938}{FONT\_WIDTH\_TABLE};
428     \}
429     \textcolor{keywordflow}{else}\{
430     \textcolor{comment}{// variable width font, read width data, to get the index}
431        \textcolor{keywordflow}{for}(i=0; i<\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c}; i++) \{  
432          index += *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae6bf0901cff58e47324da9487d0ee938}{FONT\_WIDTH\_TABLE}+i);
433        \}
434        index = index*bytes+charCount+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae6bf0901cff58e47324da9487d0ee938}{FONT\_WIDTH\_TABLE};
435        width = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+FONT\_WIDTH\_TABLE+\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c});
436     \}
437 
438     \textcolor{comment}{// last but not least, draw the character}
439     \textcolor{keywordflow}{for}(i=0; i<bytes; i++) \{
440         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a412cbb03b9cf3e5c6192d016ae82d2ae}{page} = i*\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width};
441         \textcolor{keywordflow}{for}(j=0; j<\hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width}; j++) \{
442             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} dat = *(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+index+page+j);
443         
444             \textcolor{keywordflow}{if}(height > 8 && height < (i+1)*8) \{
445                 dat >>= (i+1)*8-height;
446             \}
447             
448             \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a925b25b33f788091fb294892cfc9a999}{FontColor} == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK}) \{
449                 \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);
450             \} \textcolor{keywordflow}{else} \{
451                 \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(~dat);
452             \}
453         \}
454         \textcolor{comment}{// 1px gap between chars}
455         \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a925b25b33f788091fb294892cfc9a999}{FontColor} == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK}) \{
456             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(0x00);
457         \} \textcolor{keywordflow}{else} \{
458             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(0xFF);
459         \}
460         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(x, \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y}+8);
461     \}
462     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(x+width+1, y);
463 
464     \textcolor{keywordflow}{return} 0;
465 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a358b5f7848ef553f4a1f565704ddcfc8}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Puts@{Puts}}
\index{Puts@{Puts}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Puts}]{\setlength{\rightskip}{0pt plus 5cm}void Puts (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a358b5f7848ef553f4a1f565704ddcfc8}


Definition at line 467 of file ks0108.\-c.



References Font, F\-O\-N\-T\-\_\-\-H\-E\-I\-G\-H\-T, Goto\-X\-Y(), Put\-Char(), lcd\-Coord\-::x, x, and lcd\-Coord\-::y.


\begin{DoxyCode}
467                      \{
468     \textcolor{keywordtype}{int} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x} = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x};
469     \textcolor{keywordflow}{while}(*str != 0) \{
470         \textcolor{keywordflow}{if}(*str == \textcolor{charliteral}{'\(\backslash\)n'}) \{
471             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(x, \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y}+*(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font}+\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a33f4fac49f2a5e27e2857eb27f054510}{FONT\_HEIGHT}));
472         \} \textcolor{keywordflow}{else} \{
473             \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac5cc59012354dd7a5926667a54ebafb6}{PutChar}(*str);
474         \}
475         str++;
476     \}
477 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_afd45895b94dadc20e7c97a2ad239a4e4}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Read\-Data@{Read\-Data}}
\index{Read\-Data@{Read\-Data}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Read\-Data}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Read\-Data (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_afd45895b94dadc20e7c97a2ad239a4e4}


Definition at line 599 of file ks0108.\-c.



References Do\-Read\-Data().


\begin{DoxyCode}
599                              \{
600     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a0dd8ea2a4de343420a7d0426af60b1e2}{DoReadData}(1);                            \textcolor{comment}{// dummy read}
601     \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a0dd8ea2a4de343420a7d0426af60b1e2}{DoReadData}(0);                 \textcolor{comment}{// "real" read}
602 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a5ab6bdeb0b9fb75ac9b5b9e7a4579fff}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Select\-Font@{Select\-Font}}
\index{Select\-Font@{Select\-Font}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Select\-Font}]{\setlength{\rightskip}{0pt plus 5cm}void Select\-Font (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{font, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a5ab6bdeb0b9fb75ac9b5b9e7a4579fff}
Font Functions 

Definition at line 341 of file ks0108.\-c.



References Font, font, and Font\-Color.


\begin{DoxyCode}
341                                                        \{
342     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6348b1612af2f6e37e39ad87c0eec2b7}{Font} = \hyperlink{_s_t7565_8c_afc019ed26f2d57e2b415e12fb53ae54a}{font};    
343     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a925b25b33f788091fb294892cfc9a999}{FontColor} = color;
344 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a71c7b3b0324424b2c136eccf22a39f95}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Set\-Dot@{Set\-Dot}}
\index{Set\-Dot@{Set\-Dot}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Set\-Dot}]{\setlength{\rightskip}{0pt plus 5cm}void Set\-Dot (
\begin{DoxyParamCaption}
\item[{unsigned char}]{x, }
\item[{unsigned char}]{y, }
\item[{unsigned char}]{color}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a71c7b3b0324424b2c136eccf22a39f95}


Definition at line 323 of file ks0108.\-c.



References B\-L\-A\-C\-K, Goto\-X\-Y(), Read\-Data(), and Write\-Data().


\begin{DoxyCode}
323                                                                    \{
324     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} dat;
325 
326     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}, \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}-\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}%8);                  \textcolor{comment}{// read data from display memory}
327     dat = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
328 
329     \textcolor{keywordflow}{if}(color == \hyperlink{ili9325_8h_a7b3b25cba33b07c303f3060fe41887f6}{BLACK}) \{
330         dat |= 0x01 << (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}%8);          \textcolor{comment}{// set dot}
331     \} \textcolor{keywordflow}{else} \{
332         dat &= ~(0x01 << (\hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_a0e0b1cdfe7d9850ca963a40d5825d9ad}{y}%8));       \textcolor{comment}{// clear dot}
333     \}
334 
335     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a761eed7339a3fa9a2c6a80d552b495c3}{WriteData}(dat);                        \textcolor{comment}{// write data back to display}
336 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a342fe3f71b847b9976ded6867c4a4a79}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Set\-Inverted@{Set\-Inverted}}
\index{Set\-Inverted@{Set\-Inverted}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Set\-Inverted}]{\setlength{\rightskip}{0pt plus 5cm}void Set\-Inverted (
\begin{DoxyParamCaption}
\item[{unsigned char}]{invert}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a342fe3f71b847b9976ded6867c4a4a79}


Definition at line 316 of file ks0108.\-c.



References D\-I\-S\-P\-L\-A\-Y\-\_\-\-H\-E\-I\-G\-H\-T, D\-I\-S\-P\-L\-A\-Y\-\_\-\-W\-I\-D\-T\-H, Inverted, and Invert\-Rect().


\begin{DoxyCode}
316                                        \{
317     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted} != invert) \{
318         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a38c385b0b41843ca73f7d7978b7c3154}{InvertRect}(0,0,\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a46d67d48a7faab308f2e058dc35da83a}{DISPLAY\_WIDTH}-1,\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a43b7b2061f733ea1dc0a5a6028e131ff}{DISPLAY\_HEIGHT}-1);
319         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted} = invert;
320     \}
321 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_af7b524d07e995c35ebaf4ed8f0ffb29a}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!String\-Width@{String\-Width}}
\index{String\-Width@{String\-Width}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{String\-Width}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int String\-Width (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_af7b524d07e995c35ebaf4ed8f0ffb29a}


Definition at line 493 of file ks0108.\-c.



References Char\-Width(), and width.


\begin{DoxyCode}
493                                     \{
494     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width} = 0;
495 
496     \textcolor{keywordflow}{while}(*str != 0) \{
497         width += \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a6a8d9588edb5c47bd31096cd1dd1faff}{CharWidth}(*str++);
498     \}
499 
500     \textcolor{keywordflow}{return} \hyperlink{p8_2pinguino_2libraries_2_s_s_d1306_8c_a6d241c5fe0d45b2fbeba79d8ad18a4cb}{width};
501 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a57abdddef49468bd1932ba7290a8b793}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Write\-Command@{Write\-Command}}
\index{Write\-Command@{Write\-Command}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Write\-Command}]{\setlength{\rightskip}{0pt plus 5cm}void Write\-Command (
\begin{DoxyParamCaption}
\item[{unsigned char}]{cmd, }
\item[{unsigned char}]{chip}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a57abdddef49468bd1932ba7290a8b793}
Write a command to chip 

Definition at line 605 of file ks0108.\-c.



References C\-H\-I\-P1, C\-H\-I\-P2, C\-S\-E\-L1, C\-S\-E\-L2, D\-\_\-\-I, Enable(), fast\-Write\-High(), fast\-Write\-Low(), L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-D\-I\-R, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-O\-U\-T, and R\-\_\-\-W.


\begin{DoxyCode}
605                                                          \{
606     \textcolor{keywordflow}{if}(chip == \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a0c1a0a2df5479814f6ffc82c35c323cb}{CHIP1}) \{
607         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});           \textcolor{comment}{// deselect chip 2}
608         \textcolor{keyword}{asm}(\textcolor{stringliteral}{"nop"});
609         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});         \textcolor{comment}{// select chip 1}
610     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(chip == \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a15e370cefbcf8cd791fd46d18bff260a}{CHIP2}) \{
611         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});           \textcolor{comment}{// deselect chip 1}
612         \textcolor{keyword}{asm}(\textcolor{stringliteral}{"nop"});
613         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});         \textcolor{comment}{// select chip 2}
614     \}
615 
616     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae74d7a7a200a441a3ca10ca39937fd9c}{D\_I});                   \textcolor{comment}{// D/I = 0}
617     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a58cc6c67bb1f75b4bc8951fead179541}{R\_W});                   \textcolor{comment}{// R/W = 0}
618     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0x00;                \textcolor{comment}{// data port is output}
619     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = cmd;                 \textcolor{comment}{// write command}
620     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{Enable}();                         \textcolor{comment}{// enable}
621     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = 0x00;
622 \}
\end{DoxyCode}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a413b33f7aebcabecd7fd68323ea42df0}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Write\-Data@{Write\-Data}}
\index{Write\-Data@{Write\-Data}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Write\-Data}]{\setlength{\rightskip}{0pt plus 5cm}void Write\-Data (
\begin{DoxyParamCaption}
\item[{unsigned char}]{dat}
\end{DoxyParamCaption}
)}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a413b33f7aebcabecd7fd68323ea42df0}
Write data to chip 

Definition at line 625 of file ks0108.\-c.



References C\-H\-I\-P2, C\-S\-E\-L1, C\-S\-E\-L2, D\-\_\-\-I, Enable(), fast\-Write\-High(), fast\-Write\-Low(), Goto\-X\-Y(), Inverted, L\-C\-D\-\_\-\-C\-M\-D\-\_\-\-P\-O\-R\-T, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-D\-I\-R, L\-C\-D\-\_\-\-D\-A\-T\-A\-\_\-\-O\-U\-T, L\-C\-D\-\_\-\-S\-E\-T\-\_\-\-A\-D\-D, R\-\_\-\-W, Read\-Data(), Write\-Command(), lcd\-Coord\-::x, and lcd\-Coord\-::y.


\begin{DoxyCode}
625                                   \{
626     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} displayData, yOffset, cmdPort;
627 
628 \textcolor{preprocessor}{#ifdef DEBUG}
629 \textcolor{preprocessor}{}    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i;
630     \textcolor{keywordflow}{for}(i=0; i<5000; i++);
631 \textcolor{preprocessor}{#endif}
632 \textcolor{preprocessor}{}
633     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} >= 128)
634         \textcolor{keywordflow}{return};
635 
636     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} < 64) \{
637         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});           \textcolor{comment}{// deselect chip 2}
638         \textcolor{keyword}{asm}(\textcolor{stringliteral}{"nop"});
639         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});         \textcolor{comment}{// select chip 1}
640     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} >= 64) \{
641         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a6029681d780c82ba19599dcb56c91052}{CSEL1});           \textcolor{comment}{// deselect chip 1}
642         \textcolor{keyword}{asm}(\textcolor{stringliteral}{"nop"});
643         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7cd6c934ae85fb14cd28344d4c443e1d}{CSEL2});         \textcolor{comment}{// select chip 2}
644     \}
645     \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x} == 64)                 \textcolor{comment}{// chip2 X-address = 0}
646         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a7f16c42269110211b6a65fe034cb0e11}{WriteCommand}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a8f56dd11a06a5f7dcd2045a555143cb4}{LCD\_SET\_ADD}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a15e370cefbcf8cd791fd46d18bff260a}{CHIP2});
647 
648     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ab6fd74f009ca35d383b894264537d579}{fastWriteHigh}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_ae74d7a7a200a441a3ca10ca39937fd9c}{D\_I});                 \textcolor{comment}{// D/I = 1}
649     \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ac1e275e027938ea17394c7006844ed04}{fastWriteLow}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a58cc6c67bb1f75b4bc8951fead179541}{R\_W});               \textcolor{comment}{// R/W = 0}
650     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0x00;                \textcolor{comment}{// data port is output}
651 
652 
653     yOffset = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y}%8;
654     \textcolor{keywordflow}{if}(yOffset != 0) \{
655         \textcolor{comment}{// first page}
656         cmdPort = \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a79eb482cd288d22a1eb2a0e3cfa6ca1b}{LCD\_CMD\_PORT};                     \textcolor{comment}{// save command port}
657         displayData = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
658 
659         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a79eb482cd288d22a1eb2a0e3cfa6ca1b}{LCD\_CMD\_PORT} = cmdPort;                     \textcolor{comment}{// restore command port}
660         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0x00;                        \textcolor{comment}{// data port is output}
661 
662         displayData |= dat << yOffset;
663         \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted})
664             displayData = ~displayData;
665         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = displayData;             \textcolor{comment}{// write data}
666         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{Enable}();                             \textcolor{comment}{// enable}
667 
668         \textcolor{comment}{// second page}
669         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x}, \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y}+8);
670 
671         displayData = \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_ae0fe46bf79a0e9e29841808b4d722bef}{ReadData}();
672 
673         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a79eb482cd288d22a1eb2a0e3cfa6ca1b}{LCD\_CMD\_PORT} = cmdPort;                     \textcolor{comment}{// restore command port}
674         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a7287a84fef726dc7e0cd3ffebc27a70d}{LCD\_DATA\_DIR} = 0x00;                        \textcolor{comment}{// data port is output}
675 
676         displayData |= dat >> (8-yOffset);
677         \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted})
678             displayData = ~displayData;
679         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = displayData;             \textcolor{comment}{// write data}
680         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{Enable}();                             \textcolor{comment}{// enable}
681 
682         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a680a6e17b7103be477b59b1043aa5acd}{GotoXY}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x}+1, \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_ad87f9078b74ef74a58041131d06283c2}{y}-8);
683     \} \textcolor{keywordflow}{else} \{
684         \textcolor{keywordflow}{if}(\hyperlink{p8_2pinguino_2libraries_2ks0108_8c_a4bc6413537c76e9edc2afb18384476f9}{Inverted})
685             dat = ~dat;
686         \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = dat;                     \textcolor{comment}{// write data}
687         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_aebec479a7234241b3b664d7cfcb43401}{Enable}();                             \textcolor{comment}{// enable}
688         \hyperlink{p8_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{Coord}.\hyperlink{structlcd_coord_a66ab7498cbcfba822aa9a2891beffae2}{x}++;
689     \}
690     \hyperlink{p8_2pinguino_2libraries_2ks0108_8h_a3da78e9342befc54d33d83ac57ca7b63}{LCD\_DATA\_OUT} = 0x00;
691 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Coord@{Coord}}
\index{Coord@{Coord}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Coord}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lcd\-Coord} Coord}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_af02d1c5ebc6d9a918f52f3dea6947fbc}


Definition at line 19 of file ks0108.\-c.

\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_aec1bb1cfb9d32195e9100637399a37ef}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Font@{Font}}
\index{Font@{Font}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Font}]{\setlength{\rightskip}{0pt plus 5cm}const unsigned char$\ast$ Font}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_aec1bb1cfb9d32195e9100637399a37ef}


Definition at line 22 of file ks0108.\-c.

\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_ad227d8fef22c139b580c6584729903a6}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Font\-Color@{Font\-Color}}
\index{Font\-Color@{Font\-Color}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Font\-Color}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Font\-Color}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_ad227d8fef22c139b580c6584729903a6}


Definition at line 21 of file ks0108.\-c.

\hypertarget{p32_2include_2pinguino_2libraries_2ks0108_8c_a92157335593e69c59a721a1280e0b3d8}{\index{p32/include/pinguino/libraries/ks0108.\-c@{p32/include/pinguino/libraries/ks0108.\-c}!Inverted@{Inverted}}
\index{Inverted@{Inverted}!p32/include/pinguino/libraries/ks0108.c@{p32/include/pinguino/libraries/ks0108.\-c}}
\subsubsection[{Inverted}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Inverted =0}}\label{p32_2include_2pinguino_2libraries_2ks0108_8c_a92157335593e69c59a721a1280e0b3d8}


Definition at line 20 of file ks0108.\-c.

