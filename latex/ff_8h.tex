\hypertarget{ff_8h}{\section{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/ff.h File Reference}
\label{ff_8h}\index{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/ff.\-h@{/dvpt/pinguino/git/pinguino-\/libraries/p32/include/pinguino/libraries/sd/ff.\-h}}
}
{\ttfamily \#include \char`\"{}integer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ffconf.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_f_a_t_f_s}{F\-A\-T\-F\-S}
\item 
struct \hyperlink{struct_f_i_l}{F\-I\-L}
\item 
struct \hyperlink{struct_d_i_r}{D\-I\-R}
\item 
struct \hyperlink{struct_f_i_l_i_n_f_o}{F\-I\-L\-I\-N\-F\-O}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{ff_8h_a749228947bc890224b8bd5de6e11faa3}{\-\_\-\-F\-A\-T\-F\-S}~6502	/$\ast$ Revision I\-D $\ast$/
\item 
\#define \hyperlink{ff_8h_a6577ed2f95527745bf4d27c53488b9a7}{L\-D2\-P\-D}(vol)~(vol)	/$\ast$ Each logical drive is bound to the same physical drive number $\ast$/
\item 
\#define \hyperlink{ff_8h_aadc4a9aefaf2588bdd7565549f5d91e7}{L\-D2\-P\-T}(vol)~0		/$\ast$ Always mounts the 1st partition or in S\-F\-D $\ast$/
\item 
\#define \hyperlink{ff_8h_ae936e4c15227768f7da4e0951def89c8}{\-\_\-\-T}(\hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x})~\hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}
\item 
\#define \hyperlink{ff_8h_a3232964568d17bb4a1af30f9db826ce2}{\-\_\-\-T\-E\-X\-T}(\hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x})~\hyperlink{p32_2include_2pinguino_2libraries_2_p_c_d8544_8c_a8b1cd5df3ee434053cf8b77bf7c6a053}{x}
\item 
\#define \hyperlink{ff_8h_a970cdd8970a3a94967ad64cfc5d4c161}{f\-\_\-eof}(fp)~(((fp)-\/$>$fptr == (fp)-\/$>$\hyperlink{itdb02__graph16w_8h_aa5154f1f2f741b1408f8726078a53e27}{fsize}) ? 1 \-: 0)
\item 
\#define \hyperlink{ff_8h_a25cbdabeed318802cf0e9db6671a33b7}{f\-\_\-error}(fp)~(((fp)-\/$>$flag \& \hyperlink{ff_8h_ad3b47fe8126573b17752a9a242b76b9a}{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}) ? 1 \-: 0)
\item 
\#define \hyperlink{ff_8h_a5e1daca7ce13cdc277e42185f7f9124f}{f\-\_\-tell}(fp)~((fp)-\/$>$fptr)
\item 
\#define \hyperlink{ff_8h_a26f33722c5bf1aa3cd6f0290a83eb2bc}{f\-\_\-size}(fp)~((fp)-\/$>$\hyperlink{itdb02__graph16w_8h_aa5154f1f2f741b1408f8726078a53e27}{fsize})
\item 
\#define \hyperlink{ff_8h_a59adc4c82490d23754cd39c2fb99b0da}{E\-O\-F}~(-\/1)
\item 
\#define \hyperlink{ff_8h_a1f4f3530ff03abbd979b072536e72290}{F\-A\-\_\-\-R\-E\-A\-D}~0x01
\item 
\#define \hyperlink{ff_8h_a0c5dd686b10f84c2a2b3954957a5979a}{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G}~0x00
\item 
\#define \hyperlink{ff_8h_ad3b47fe8126573b17752a9a242b76b9a}{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}~0x80
\item 
\#define \hyperlink{ff_8h_afa366963220c89b882c0361794020c14}{F\-A\-\_\-\-W\-R\-I\-T\-E}~0x02
\item 
\#define \hyperlink{ff_8h_a417bb1babd1785fd181a806b5613eba3}{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W}~0x04
\item 
\#define \hyperlink{ff_8h_afba4546b131dea4b24727fa20a80e29f}{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S}~0x08
\item 
\#define \hyperlink{ff_8h_a17b01553029920ac0468912b4bcb16c7}{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S}~0x10
\item 
\#define \hyperlink{ff_8h_ac4b7d5223f84df91c306ffbff536fae4}{F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N}~0x20
\item 
\#define \hyperlink{ff_8h_a5b2962e3616a1e9eb709d95f4c75c67c}{F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y}~0x40
\item 
\#define \hyperlink{ff_8h_aab755aa1b4f81f4aabee4a5d4738cfb0}{F\-S\-\_\-\-F\-A\-T12}~1
\item 
\#define \hyperlink{ff_8h_a7ef90a36d99edfc0138a2155a17a79b9}{F\-S\-\_\-\-F\-A\-T16}~2
\item 
\#define \hyperlink{ff_8h_ac63e0796095a789cefdbc3c3c676c9ce}{F\-S\-\_\-\-F\-A\-T32}~3
\item 
\#define \hyperlink{ff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{A\-M\-\_\-\-R\-D\-O}~0x01	/$\ast$ Read only $\ast$/
\item 
\#define \hyperlink{ff_8h_aa90c4c921c1955fd407d8bbf17f1674e}{A\-M\-\_\-\-H\-I\-D}~0x02	/$\ast$ Hidden $\ast$/
\item 
\#define \hyperlink{ff_8h_a1f25d5c17b5a3a6397b3398add8cdc15}{A\-M\-\_\-\-S\-Y\-S}~0x04	/$\ast$ System $\ast$/
\item 
\#define \hyperlink{ff_8h_a5cfae62dabae0a54809e43b36685ce7c}{A\-M\-\_\-\-V\-O\-L}~0x08	/$\ast$ Volume label $\ast$/
\item 
\#define \hyperlink{ff_8h_a91161ef62e0e85ba3c2876d3d339473d}{A\-M\-\_\-\-L\-F\-N}~0x0\-F	/$\ast$ L\-F\-N entry $\ast$/
\item 
\#define \hyperlink{ff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{A\-M\-\_\-\-D\-I\-R}~0x10	/$\ast$ Directory $\ast$/
\item 
\#define \hyperlink{ff_8h_ae8174d00798e34e7c9e95898cb9e1a09}{A\-M\-\_\-\-A\-R\-C}~0x20	/$\ast$ Archive $\ast$/
\item 
\#define \hyperlink{ff_8h_aefa78fd6b130faaca4e115602869b57c}{A\-M\-\_\-\-M\-A\-S\-K}~0x3\-F	/$\ast$ Mask of defined bits $\ast$/
\item 
\#define \hyperlink{ff_8h_aee297a9011164cf485a4df2a72758b08}{C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P}~0x\-F\-F\-F\-F\-F\-F\-F\-F
\item 
\#define \hyperlink{ff_8h_a398519bb08da6457e62567d1f0b567e3}{L\-D\-\_\-\-W\-O\-R\-D}(ptr)~(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})(((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})$\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)$<$$<$8)$\vert$(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})$\ast$(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr))
\item 
\#define \hyperlink{ff_8h_a4690304ddc975516f7dc02575c96e34e}{L\-D\-\_\-\-D\-W\-O\-R\-D}(ptr)~(\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})(((\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})$\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+3)$<$$<$24)$\vert$((\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})$\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+2)$<$$<$16)$\vert$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})$\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)$<$$<$8)$\vert$$\ast$(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr))
\item 
\#define \hyperlink{ff_8h_a95ceb4c25b216e71baa7102939edfd0d}{S\-T\-\_\-\-W\-O\-R\-D}(ptr, val)~$\ast$(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})(val); $\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})(val)$>$$>$8)
\item 
\#define \hyperlink{ff_8h_abf5aba973d95ac5843b80aa7379cdd66}{S\-T\-\_\-\-D\-W\-O\-R\-D}(ptr, val)~$\ast$(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})(val); $\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_a3f29df22680f9b74773a028915984992}{P\-F\-\_\-\-W\-O\-R\-D})(val)$>$$>$8); $\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+2)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})((\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})(val)$>$$>$16); $\ast$((\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+3)=(\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})((\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})(val)$>$$>$24)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef char \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \{ \\*
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K} = 0, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}, 
\\*
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca196c8de0d4f775323f10ab831adc856e}{F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D}, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}, 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}, 
\\*
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K} = 0, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}, 
\\*
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{F\-R\-\_\-\-E\-X\-I\-S\-T}, 
\\*
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}, 
\\*
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}, 
\hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K} = 0, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}, 
\\*
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cab6c9903af6e9bffbb7a288705f4a6a76}{F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}, 
\\*
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{F\-R\-\_\-\-E\-X\-I\-S\-T}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}, 
\\*
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}, 
\\*
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3f8ca7e51af8b129d14328de7243c5d4}{F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca7db5afaaa2af591bd4a208b2967075d7}{F\-R\-\_\-\-L\-O\-C\-K\-E\-D}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44caf56a76a86602cbdeb2c4f3d00cfad21c}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E}, 
\\*
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca50dd3c3c274ccebb2cfbddde9d065bb9}{F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S}, 
\hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3b89faeceab64db277d0fcdeaaa315d6}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a0b09bebe611d9b1b9e9883507dd6a572}{f\-\_\-mount} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{struct_f_a_t_f_s}{F\-A\-T\-F\-S} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a101dd5850e49f1aa1cd59766d8e98507}{f\-\_\-open} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a9f0df1d597f92e2e6482e3a8f5c9b136}{f\-\_\-read} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, void $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T}, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_ac9a2d3b1cec2ede839b1c70397e6f1f8}{f\-\_\-lseek} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a004f8ebf5a01c5c7065292cc4545bc38}{f\-\_\-close} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a7608f0d3c152bcd2950704d881e41b8c}{f\-\_\-opendir} (\hyperlink{struct_d_i_r}{D\-I\-R} $\ast$, const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_ae84f86ce841a3facb95060e0bdefd5fb}{f\-\_\-readdir} (\hyperlink{struct_d_i_r}{D\-I\-R} $\ast$, \hyperlink{struct_f_i_l_i_n_f_o}{F\-I\-L\-I\-N\-F\-O} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_aee04d91ad57ffe5a66a6a0e0b16fdfe6}{f\-\_\-stat} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{struct_f_i_l_i_n_f_o}{F\-I\-L\-I\-N\-F\-O} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_af02e0c59a61ad5954bc9b566fe8a79b8}{f\-\_\-write} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, const void $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T}, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a08f50eeafdd73abb2f4ad033ce6cabb0}{f\-\_\-getfree} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D} $\ast$, \hyperlink{struct_f_a_t_f_s}{F\-A\-T\-F\-S} $\ast$$\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a29d002c2c9b726151b9c1a4ad742c41d}{f\-\_\-truncate} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_ae3ba7b156902f7678b3344f1e5bc5e88}{f\-\_\-sync} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_aab68be1620730d7ed482d209f417b40b}{f\-\_\-unlink} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a13452975056874fbec616433db001bf9}{f\-\_\-mkdir} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a22a66aed4537228126aa32afa015c7f1}{f\-\_\-chmod} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a748ed6ec723321a5c5e35e7112ac531c}{f\-\_\-utime} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, const \hyperlink{struct_f_i_l_i_n_f_o}{F\-I\-L\-I\-N\-F\-O} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a0670638c6a93e143b7a8b196ab361c83}{f\-\_\-rename} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_aeb8cf46ad04b274439d6c2dc570be914}{f\-\_\-chdrive} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a8e1bc23ae1f0d1475671b3c3a85f1eb9}{f\-\_\-chdir} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a0a4251a19a74e3bd6429fde4c1db96d4}{f\-\_\-getcwd} (\hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_ad6bc2bb687a030491eaed47486c5a839}{f\-\_\-forward} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T}($\ast$)(const \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E} $\ast$, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T}), \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T}, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T} $\ast$)
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_a6dd982dae31f4d5912b7d3b2896fd1b3}{f\-\_\-mkfs} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, \hyperlink{p8_2pinguino_2libraries_2integer_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\-I\-N\-T})
\item 
\hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{F\-R\-E\-S\-U\-L\-T} \hyperlink{ff_8h_aee751d19f6a82a8acd6157aa9ca41a88}{f\-\_\-fdisk} (\hyperlink{p32_2include_2pinguino_2libraries_2sd_2integer_8h_aa1e36ce100a7ff1291e95b4515d42e65}{P\-F\-\_\-\-B\-Y\-T\-E}, const \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D}\mbox{[}$\,$\mbox{]}, void $\ast$)
\item 
int \hyperlink{ff_8h_a6b6f28130325afd1c1ee5a62da837042}{f\-\_\-putc} (\hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R}, \hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
int \hyperlink{ff_8h_acb521b6e0831ac577eb2772bd8ba44a3}{f\-\_\-puts} (const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, \hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
int \hyperlink{ff_8h_a0af8ac748b025f644daabe5ce5609d8b}{f\-\_\-printf} (\hyperlink{struct_f_i_l}{F\-I\-L} $\ast$, const \hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$,...)
\item 
\hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$ \hyperlink{ff_8h_af5af8207185e606397cb9077b61ab604}{f\-\_\-gets} (\hyperlink{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{T\-C\-H\-A\-R} $\ast$, int, \hyperlink{struct_f_i_l}{F\-I\-L} $\ast$)
\item 
\hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{D\-W\-O\-R\-D} \hyperlink{ff_8h_af58b536abfd30f77213f4ecaf2ac52f5}{get\-\_\-fattime} (void)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{ff_8h_a749228947bc890224b8bd5de6e11faa3}{\index{ff.\-h@{ff.\-h}!\-\_\-\-F\-A\-T\-F\-S@{\-\_\-\-F\-A\-T\-F\-S}}
\index{\-\_\-\-F\-A\-T\-F\-S@{\-\_\-\-F\-A\-T\-F\-S}!ff.h@{ff.\-h}}
\subsubsection[{\-\_\-\-F\-A\-T\-F\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-F\-A\-T\-F\-S~6502	/$\ast$ Revision I\-D $\ast$/}}\label{ff_8h_a749228947bc890224b8bd5de6e11faa3}


Definition at line 18 of file ff.\-h.

\hypertarget{ff_8h_ae936e4c15227768f7da4e0951def89c8}{\index{ff.\-h@{ff.\-h}!\-\_\-\-T@{\-\_\-\-T}}
\index{\-\_\-\-T@{\-\_\-\-T}!ff.h@{ff.\-h}}
\subsubsection[{\-\_\-\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-T(
\begin{DoxyParamCaption}
\item[{}]{{\bf x}}
\end{DoxyParamCaption}
)~{\bf x}}}\label{ff_8h_ae936e4c15227768f7da4e0951def89c8}


Definition at line 67 of file ff.\-h.

\hypertarget{ff_8h_a3232964568d17bb4a1af30f9db826ce2}{\index{ff.\-h@{ff.\-h}!\-\_\-\-T\-E\-X\-T@{\-\_\-\-T\-E\-X\-T}}
\index{\-\_\-\-T\-E\-X\-T@{\-\_\-\-T\-E\-X\-T}!ff.h@{ff.\-h}}
\subsubsection[{\-\_\-\-T\-E\-X\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define \-\_\-\-T\-E\-X\-T(
\begin{DoxyParamCaption}
\item[{}]{{\bf x}}
\end{DoxyParamCaption}
)~{\bf x}}}\label{ff_8h_a3232964568d17bb4a1af30f9db826ce2}


Definition at line 68 of file ff.\-h.

\hypertarget{ff_8h_ae8174d00798e34e7c9e95898cb9e1a09}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-A\-R\-C@{A\-M\-\_\-\-A\-R\-C}}
\index{A\-M\-\_\-\-A\-R\-C@{A\-M\-\_\-\-A\-R\-C}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-A\-R\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-A\-R\-C~0x20	/$\ast$ Archive $\ast$/}}\label{ff_8h_ae8174d00798e34e7c9e95898cb9e1a09}


Definition at line 309 of file ff.\-h.

\hypertarget{ff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-D\-I\-R@{A\-M\-\_\-\-D\-I\-R}}
\index{A\-M\-\_\-\-D\-I\-R@{A\-M\-\_\-\-D\-I\-R}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-D\-I\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-D\-I\-R~0x10	/$\ast$ Directory $\ast$/}}\label{ff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}


Definition at line 308 of file ff.\-h.

\hypertarget{ff_8h_aa90c4c921c1955fd407d8bbf17f1674e}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-H\-I\-D@{A\-M\-\_\-\-H\-I\-D}}
\index{A\-M\-\_\-\-H\-I\-D@{A\-M\-\_\-\-H\-I\-D}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-H\-I\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-H\-I\-D~0x02	/$\ast$ Hidden $\ast$/}}\label{ff_8h_aa90c4c921c1955fd407d8bbf17f1674e}


Definition at line 304 of file ff.\-h.

\hypertarget{ff_8h_a91161ef62e0e85ba3c2876d3d339473d}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-L\-F\-N@{A\-M\-\_\-\-L\-F\-N}}
\index{A\-M\-\_\-\-L\-F\-N@{A\-M\-\_\-\-L\-F\-N}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-L\-F\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-L\-F\-N~0x0\-F	/$\ast$ L\-F\-N entry $\ast$/}}\label{ff_8h_a91161ef62e0e85ba3c2876d3d339473d}


Definition at line 307 of file ff.\-h.

\hypertarget{ff_8h_aefa78fd6b130faaca4e115602869b57c}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-M\-A\-S\-K@{A\-M\-\_\-\-M\-A\-S\-K}}
\index{A\-M\-\_\-\-M\-A\-S\-K@{A\-M\-\_\-\-M\-A\-S\-K}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-M\-A\-S\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-M\-A\-S\-K~0x3\-F	/$\ast$ Mask of defined bits $\ast$/}}\label{ff_8h_aefa78fd6b130faaca4e115602869b57c}


Definition at line 310 of file ff.\-h.

\hypertarget{ff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-R\-D\-O@{A\-M\-\_\-\-R\-D\-O}}
\index{A\-M\-\_\-\-R\-D\-O@{A\-M\-\_\-\-R\-D\-O}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-R\-D\-O}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-R\-D\-O~0x01	/$\ast$ Read only $\ast$/}}\label{ff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}


Definition at line 303 of file ff.\-h.

\hypertarget{ff_8h_a1f25d5c17b5a3a6397b3398add8cdc15}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-S\-Y\-S@{A\-M\-\_\-\-S\-Y\-S}}
\index{A\-M\-\_\-\-S\-Y\-S@{A\-M\-\_\-\-S\-Y\-S}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-S\-Y\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-S\-Y\-S~0x04	/$\ast$ System $\ast$/}}\label{ff_8h_a1f25d5c17b5a3a6397b3398add8cdc15}


Definition at line 305 of file ff.\-h.

\hypertarget{ff_8h_a5cfae62dabae0a54809e43b36685ce7c}{\index{ff.\-h@{ff.\-h}!A\-M\-\_\-\-V\-O\-L@{A\-M\-\_\-\-V\-O\-L}}
\index{A\-M\-\_\-\-V\-O\-L@{A\-M\-\_\-\-V\-O\-L}!ff.h@{ff.\-h}}
\subsubsection[{A\-M\-\_\-\-V\-O\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\-M\-\_\-\-V\-O\-L~0x08	/$\ast$ Volume label $\ast$/}}\label{ff_8h_a5cfae62dabae0a54809e43b36685ce7c}


Definition at line 306 of file ff.\-h.

\hypertarget{ff_8h_aee297a9011164cf485a4df2a72758b08}{\index{ff.\-h@{ff.\-h}!C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P@{C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P}}
\index{C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P@{C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P}!ff.h@{ff.\-h}}
\subsubsection[{C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P~0x\-F\-F\-F\-F\-F\-F\-F\-F}}\label{ff_8h_aee297a9011164cf485a4df2a72758b08}


Definition at line 314 of file ff.\-h.



Referenced by f\-\_\-lseek().

\hypertarget{ff_8h_a59adc4c82490d23754cd39c2fb99b0da}{\index{ff.\-h@{ff.\-h}!E\-O\-F@{E\-O\-F}}
\index{E\-O\-F@{E\-O\-F}!ff.h@{ff.\-h}}
\subsubsection[{E\-O\-F}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\-O\-F~(-\/1)}}\label{ff_8h_a59adc4c82490d23754cd39c2fb99b0da}


Definition at line 239 of file ff.\-h.

\hypertarget{ff_8h_a970cdd8970a3a94967ad64cfc5d4c161}{\index{ff.\-h@{ff.\-h}!f\-\_\-eof@{f\-\_\-eof}}
\index{f\-\_\-eof@{f\-\_\-eof}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-eof}]{\setlength{\rightskip}{0pt plus 5cm}\#define f\-\_\-eof(
\begin{DoxyParamCaption}
\item[{}]{fp}
\end{DoxyParamCaption}
)~(((fp)-\/$>$fptr == (fp)-\/$>${\bf fsize}) ? 1 \-: 0)}}\label{ff_8h_a970cdd8970a3a94967ad64cfc5d4c161}


Definition at line 233 of file ff.\-h.

\hypertarget{ff_8h_a25cbdabeed318802cf0e9db6671a33b7}{\index{ff.\-h@{ff.\-h}!f\-\_\-error@{f\-\_\-error}}
\index{f\-\_\-error@{f\-\_\-error}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-error}]{\setlength{\rightskip}{0pt plus 5cm}\#define f\-\_\-error(
\begin{DoxyParamCaption}
\item[{}]{fp}
\end{DoxyParamCaption}
)~(((fp)-\/$>$flag \& {\bf F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}) ? 1 \-: 0)}}\label{ff_8h_a25cbdabeed318802cf0e9db6671a33b7}


Definition at line 234 of file ff.\-h.

\hypertarget{ff_8h_a26f33722c5bf1aa3cd6f0290a83eb2bc}{\index{ff.\-h@{ff.\-h}!f\-\_\-size@{f\-\_\-size}}
\index{f\-\_\-size@{f\-\_\-size}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}\#define f\-\_\-size(
\begin{DoxyParamCaption}
\item[{}]{fp}
\end{DoxyParamCaption}
)~((fp)-\/$>${\bf fsize})}}\label{ff_8h_a26f33722c5bf1aa3cd6f0290a83eb2bc}


Definition at line 236 of file ff.\-h.

\hypertarget{ff_8h_a5e1daca7ce13cdc277e42185f7f9124f}{\index{ff.\-h@{ff.\-h}!f\-\_\-tell@{f\-\_\-tell}}
\index{f\-\_\-tell@{f\-\_\-tell}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-tell}]{\setlength{\rightskip}{0pt plus 5cm}\#define f\-\_\-tell(
\begin{DoxyParamCaption}
\item[{}]{fp}
\end{DoxyParamCaption}
)~((fp)-\/$>$fptr)}}\label{ff_8h_a5e1daca7ce13cdc277e42185f7f9124f}


Definition at line 235 of file ff.\-h.

\hypertarget{ff_8h_a5b2962e3616a1e9eb709d95f4c75c67c}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y@{F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y}}
\index{F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y@{F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y~0x40}}\label{ff_8h_a5b2962e3616a1e9eb709d95f4c75c67c}


Definition at line 290 of file ff.\-h.



Referenced by f\-\_\-lseek(), f\-\_\-read(), f\-\_\-sync(), and f\-\_\-write().

\hypertarget{ff_8h_ad3b47fe8126573b17752a9a242b76b9a}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R@{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}}
\index{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R@{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R~0x80}}\label{ff_8h_ad3b47fe8126573b17752a9a242b76b9a}


Definition at line 282 of file ff.\-h.

\hypertarget{ff_8h_ac4b7d5223f84df91c306ffbff536fae4}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N@{F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N}}
\index{F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N@{F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N~0x20}}\label{ff_8h_ac4b7d5223f84df91c306ffbff536fae4}


Definition at line 289 of file ff.\-h.

\hypertarget{ff_8h_afba4546b131dea4b24727fa20a80e29f}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S@{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S}}
\index{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S@{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S~0x08}}\label{ff_8h_afba4546b131dea4b24727fa20a80e29f}


Definition at line 287 of file ff.\-h.

\hypertarget{ff_8h_a417bb1babd1785fd181a806b5613eba3}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W@{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W}}
\index{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W@{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W~0x04}}\label{ff_8h_a417bb1babd1785fd181a806b5613eba3}


Definition at line 286 of file ff.\-h.

\hypertarget{ff_8h_a17b01553029920ac0468912b4bcb16c7}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S@{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S}}
\index{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S@{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S~0x10}}\label{ff_8h_a17b01553029920ac0468912b4bcb16c7}


Definition at line 288 of file ff.\-h.

\hypertarget{ff_8h_a0c5dd686b10f84c2a2b3954957a5979a}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G@{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G}}
\index{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G@{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-E\-X\-I\-S\-T\-I\-N\-G~0x00}}\label{ff_8h_a0c5dd686b10f84c2a2b3954957a5979a}


Definition at line 281 of file ff.\-h.

\hypertarget{ff_8h_a1f4f3530ff03abbd979b072536e72290}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-R\-E\-A\-D@{F\-A\-\_\-\-R\-E\-A\-D}}
\index{F\-A\-\_\-\-R\-E\-A\-D@{F\-A\-\_\-\-R\-E\-A\-D}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-R\-E\-A\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-R\-E\-A\-D~0x01}}\label{ff_8h_a1f4f3530ff03abbd979b072536e72290}


Definition at line 280 of file ff.\-h.

\hypertarget{ff_8h_afa366963220c89b882c0361794020c14}{\index{ff.\-h@{ff.\-h}!F\-A\-\_\-\-W\-R\-I\-T\-E@{F\-A\-\_\-\-W\-R\-I\-T\-E}}
\index{F\-A\-\_\-\-W\-R\-I\-T\-E@{F\-A\-\_\-\-W\-R\-I\-T\-E}!ff.h@{ff.\-h}}
\subsubsection[{F\-A\-\_\-\-W\-R\-I\-T\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-A\-\_\-\-W\-R\-I\-T\-E~0x02}}\label{ff_8h_afa366963220c89b882c0361794020c14}


Definition at line 285 of file ff.\-h.

\hypertarget{ff_8h_aab755aa1b4f81f4aabee4a5d4738cfb0}{\index{ff.\-h@{ff.\-h}!F\-S\-\_\-\-F\-A\-T12@{F\-S\-\_\-\-F\-A\-T12}}
\index{F\-S\-\_\-\-F\-A\-T12@{F\-S\-\_\-\-F\-A\-T12}!ff.h@{ff.\-h}}
\subsubsection[{F\-S\-\_\-\-F\-A\-T12}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-S\-\_\-\-F\-A\-T12~1}}\label{ff_8h_aab755aa1b4f81f4aabee4a5d4738cfb0}


Definition at line 296 of file ff.\-h.

\hypertarget{ff_8h_a7ef90a36d99edfc0138a2155a17a79b9}{\index{ff.\-h@{ff.\-h}!F\-S\-\_\-\-F\-A\-T16@{F\-S\-\_\-\-F\-A\-T16}}
\index{F\-S\-\_\-\-F\-A\-T16@{F\-S\-\_\-\-F\-A\-T16}!ff.h@{ff.\-h}}
\subsubsection[{F\-S\-\_\-\-F\-A\-T16}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-S\-\_\-\-F\-A\-T16~2}}\label{ff_8h_a7ef90a36d99edfc0138a2155a17a79b9}


Definition at line 297 of file ff.\-h.

\hypertarget{ff_8h_ac63e0796095a789cefdbc3c3c676c9ce}{\index{ff.\-h@{ff.\-h}!F\-S\-\_\-\-F\-A\-T32@{F\-S\-\_\-\-F\-A\-T32}}
\index{F\-S\-\_\-\-F\-A\-T32@{F\-S\-\_\-\-F\-A\-T32}!ff.h@{ff.\-h}}
\subsubsection[{F\-S\-\_\-\-F\-A\-T32}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-S\-\_\-\-F\-A\-T32~3}}\label{ff_8h_ac63e0796095a789cefdbc3c3c676c9ce}


Definition at line 298 of file ff.\-h.

\hypertarget{ff_8h_a6577ed2f95527745bf4d27c53488b9a7}{\index{ff.\-h@{ff.\-h}!L\-D2\-P\-D@{L\-D2\-P\-D}}
\index{L\-D2\-P\-D@{L\-D2\-P\-D}!ff.h@{ff.\-h}}
\subsubsection[{L\-D2\-P\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-D2\-P\-D(
\begin{DoxyParamCaption}
\item[{}]{vol}
\end{DoxyParamCaption}
)~(vol)	/$\ast$ Each logical drive is bound to the same physical drive number $\ast$/}}\label{ff_8h_a6577ed2f95527745bf4d27c53488b9a7}


Definition at line 45 of file ff.\-h.

\hypertarget{ff_8h_aadc4a9aefaf2588bdd7565549f5d91e7}{\index{ff.\-h@{ff.\-h}!L\-D2\-P\-T@{L\-D2\-P\-T}}
\index{L\-D2\-P\-T@{L\-D2\-P\-T}!ff.h@{ff.\-h}}
\subsubsection[{L\-D2\-P\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-D2\-P\-T(
\begin{DoxyParamCaption}
\item[{}]{vol}
\end{DoxyParamCaption}
)~0		/$\ast$ Always mounts the 1st partition or in S\-F\-D $\ast$/}}\label{ff_8h_aadc4a9aefaf2588bdd7565549f5d91e7}


Definition at line 46 of file ff.\-h.

\hypertarget{ff_8h_a4690304ddc975516f7dc02575c96e34e}{\index{ff.\-h@{ff.\-h}!L\-D\-\_\-\-D\-W\-O\-R\-D@{L\-D\-\_\-\-D\-W\-O\-R\-D}}
\index{L\-D\-\_\-\-D\-W\-O\-R\-D@{L\-D\-\_\-\-D\-W\-O\-R\-D}!ff.h@{ff.\-h}}
\subsubsection[{L\-D\-\_\-\-D\-W\-O\-R\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-D\-\_\-\-D\-W\-O\-R\-D(
\begin{DoxyParamCaption}
\item[{}]{ptr}
\end{DoxyParamCaption}
)~({\bf D\-W\-O\-R\-D})((({\bf D\-W\-O\-R\-D})$\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+3)$<$$<$24)$\vert$(({\bf D\-W\-O\-R\-D})$\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+2)$<$$<$16)$\vert$(({\bf P\-F\-\_\-\-W\-O\-R\-D})$\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)$<$$<$8)$\vert$$\ast$({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr))}}\label{ff_8h_a4690304ddc975516f7dc02575c96e34e}


Definition at line 328 of file ff.\-h.

\hypertarget{ff_8h_a398519bb08da6457e62567d1f0b567e3}{\index{ff.\-h@{ff.\-h}!L\-D\-\_\-\-W\-O\-R\-D@{L\-D\-\_\-\-W\-O\-R\-D}}
\index{L\-D\-\_\-\-W\-O\-R\-D@{L\-D\-\_\-\-W\-O\-R\-D}!ff.h@{ff.\-h}}
\subsubsection[{L\-D\-\_\-\-W\-O\-R\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-D\-\_\-\-W\-O\-R\-D(
\begin{DoxyParamCaption}
\item[{}]{ptr}
\end{DoxyParamCaption}
)~({\bf P\-F\-\_\-\-W\-O\-R\-D})((({\bf P\-F\-\_\-\-W\-O\-R\-D})$\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)$<$$<$8)$\vert$({\bf P\-F\-\_\-\-W\-O\-R\-D})$\ast$({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr))}}\label{ff_8h_a398519bb08da6457e62567d1f0b567e3}


Definition at line 327 of file ff.\-h.

\hypertarget{ff_8h_abf5aba973d95ac5843b80aa7379cdd66}{\index{ff.\-h@{ff.\-h}!S\-T\-\_\-\-D\-W\-O\-R\-D@{S\-T\-\_\-\-D\-W\-O\-R\-D}}
\index{S\-T\-\_\-\-D\-W\-O\-R\-D@{S\-T\-\_\-\-D\-W\-O\-R\-D}!ff.h@{ff.\-h}}
\subsubsection[{S\-T\-\_\-\-D\-W\-O\-R\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-T\-\_\-\-D\-W\-O\-R\-D(
\begin{DoxyParamCaption}
\item[{}]{ptr, }
\item[{}]{val}
\end{DoxyParamCaption}
)~$\ast$({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(val); $\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(({\bf P\-F\-\_\-\-W\-O\-R\-D})(val)$>$$>$8); $\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+2)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(({\bf D\-W\-O\-R\-D})(val)$>$$>$16); $\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+3)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(({\bf D\-W\-O\-R\-D})(val)$>$$>$24)}}\label{ff_8h_abf5aba973d95ac5843b80aa7379cdd66}


Definition at line 330 of file ff.\-h.

\hypertarget{ff_8h_a95ceb4c25b216e71baa7102939edfd0d}{\index{ff.\-h@{ff.\-h}!S\-T\-\_\-\-W\-O\-R\-D@{S\-T\-\_\-\-W\-O\-R\-D}}
\index{S\-T\-\_\-\-W\-O\-R\-D@{S\-T\-\_\-\-W\-O\-R\-D}!ff.h@{ff.\-h}}
\subsubsection[{S\-T\-\_\-\-W\-O\-R\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-T\-\_\-\-W\-O\-R\-D(
\begin{DoxyParamCaption}
\item[{}]{ptr, }
\item[{}]{val}
\end{DoxyParamCaption}
)~$\ast$({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(val); $\ast$(({\bf P\-F\-\_\-\-B\-Y\-T\-E}$\ast$)(ptr)+1)=({\bf P\-F\-\_\-\-B\-Y\-T\-E})(({\bf P\-F\-\_\-\-W\-O\-R\-D})(val)$>$$>$8)}}\label{ff_8h_a95ceb4c25b216e71baa7102939edfd0d}


Definition at line 329 of file ff.\-h.



\subsection{Typedef Documentation}
\hypertarget{ff_8h_a03bdb8ce5895c7e261aadc2529637546}{\index{ff.\-h@{ff.\-h}!T\-C\-H\-A\-R@{T\-C\-H\-A\-R}}
\index{T\-C\-H\-A\-R@{T\-C\-H\-A\-R}!ff.h@{ff.\-h}}
\subsubsection[{T\-C\-H\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}typedef char {\bf T\-C\-H\-A\-R}}}\label{ff_8h_a03bdb8ce5895c7e261aadc2529637546}


Definition at line 66 of file ff.\-h.



\subsection{Enumeration Type Documentation}
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{\index{ff.\-h@{ff.\-h}!F\-R\-E\-S\-U\-L\-T@{F\-R\-E\-S\-U\-L\-T}}
\index{F\-R\-E\-S\-U\-L\-T@{F\-R\-E\-S\-U\-L\-T}!ff.h@{ff.\-h}}
\subsubsection[{F\-R\-E\-S\-U\-L\-T}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf F\-R\-E\-S\-U\-L\-T}}}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44c}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}
}]\index{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R@{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R@{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca196c8de0d4f775323f10ab831adc856e}{F\-R\-\_\-\-N\-O\-T\-\_\-\-O\-P\-E\-N\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca196c8de0d4f775323f10ab831adc856e}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}
}]\index{F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}
}]\index{F\-R\-\_\-\-D\-E\-N\-I\-E\-D@{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-D\-E\-N\-I\-E\-D@{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}
}]\index{F\-R\-\_\-\-E\-X\-I\-S\-T@{F\-R\-\_\-\-E\-X\-I\-S\-T}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-E\-X\-I\-S\-T@{F\-R\-\_\-\-E\-X\-I\-S\-T}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{F\-R\-\_\-\-E\-X\-I\-S\-T}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}
}]\index{F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R@{F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R@{F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}
}]\index{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D@{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D@{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}
}]\index{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D@{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D@{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}
}]\index{F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-O\-K@{F\-R\-\_\-\-O\-K}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{F\-R\-\_\-\-O\-K}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}
}]\index{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R@{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R@{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}{F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}
}]\index{F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R@{F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R@{F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cab6c9903af6e9bffbb7a288705f4a6a76}{F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cab6c9903af6e9bffbb7a288705f4a6a76}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y@{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{F\-R\-\_\-\-N\-O\-T\-\_\-\-R\-E\-A\-D\-Y}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H@{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}
}]\index{F\-R\-\_\-\-D\-E\-N\-I\-E\-D@{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-D\-E\-N\-I\-E\-D@{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{F\-R\-\_\-\-D\-E\-N\-I\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}
}]\index{F\-R\-\_\-\-E\-X\-I\-S\-T@{F\-R\-\_\-\-E\-X\-I\-S\-T}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-E\-X\-I\-S\-T@{F\-R\-\_\-\-E\-X\-I\-S\-T}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{F\-R\-\_\-\-E\-X\-I\-S\-T}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-O\-B\-J\-E\-C\-T}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}
}]\index{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D@{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D@{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}{F\-R\-\_\-\-W\-R\-I\-T\-E\-\_\-\-P\-R\-O\-T\-E\-C\-T\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-A\-B\-L\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}
}]\index{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M@{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E\-S\-Y\-S\-T\-E\-M}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}
}]\index{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D@{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D@{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}{F\-R\-\_\-\-M\-K\-F\-S\-\_\-\-A\-B\-O\-R\-T\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}
}]\index{F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T@{F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T@{F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3f8ca7e51af8b129d14328de7243c5d4}{F\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3f8ca7e51af8b129d14328de7243c5d4}
}]\index{F\-R\-\_\-\-L\-O\-C\-K\-E\-D@{F\-R\-\_\-\-L\-O\-C\-K\-E\-D}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-L\-O\-C\-K\-E\-D@{F\-R\-\_\-\-L\-O\-C\-K\-E\-D}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca7db5afaaa2af591bd4a208b2967075d7}{F\-R\-\_\-\-L\-O\-C\-K\-E\-D}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca7db5afaaa2af591bd4a208b2967075d7}
}]\index{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E@{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44caf56a76a86602cbdeb2c4f3d00cfad21c}{F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44caf56a76a86602cbdeb2c4f3d00cfad21c}
}]\index{F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S@{F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S@{F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca50dd3c3c274ccebb2cfbddde9d065bb9}{F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca50dd3c3c274ccebb2cfbddde9d065bb9}
}]\index{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R}!ff.\-h@{ff.\-h}}\index{ff.\-h@{ff.\-h}!F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R@{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R}}\item[{\em 
\hypertarget{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3b89faeceab64db277d0fcdeaaa315d6}{F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-A\-R\-A\-M\-E\-T\-E\-R}\label{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3b89faeceab64db277d0fcdeaaa315d6}
}]\end{description}
\end{Desc}


Definition at line 177 of file ff.\-h.


\begin{DoxyCode}
177              \{
178     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK} = 0,             \textcolor{comment}{/* (0) Succeeded */}
179     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97dee4a6b485dc8f91f37486092dfe34}{FR\_DISK\_ERR},         \textcolor{comment}{/* (1) A hard error occured in the low level disk I/O layer */}
180     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cab6c9903af6e9bffbb7a288705f4a6a76}{FR\_INT\_ERR},               \textcolor{comment}{/* (2) Assertion failed */}
181     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cac9894bed3e8632ede8d2712235fa8e45}{FR\_NOT\_READY},           \textcolor{comment}{/* (3) The physical drive cannot work */}
182     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE},               \textcolor{comment}{/* (4) Could not find the file */}
183     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cae4529c8cc8b59783d6efc9ba4f574532}{FR\_NO\_PATH},               \textcolor{comment}{/* (5) Could not find the path */}
184     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{FR\_INVALID\_NAME},     \textcolor{comment}{/* (6) The path name format is invalid */}
185     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED},             \textcolor{comment}{/* (7) Acces denied due to prohibited access or directory full */}
186     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{FR\_EXIST},               \textcolor{comment}{/* (8) Acces denied due to prohibited access */}
187     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3dec4eba481cdf5e99d7cd6009e6dcf8}{FR\_INVALID\_OBJECT},     \textcolor{comment}{/* (9) The file/directory object is invalid */}
188     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cac3afbb423b1d4497229416812aff383b}{FR\_WRITE\_PROTECTED},       \textcolor{comment}{/* (10) The physical drive is write protected */}
189     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{FR\_INVALID\_DRIVE},       \textcolor{comment}{/* (11) The logical drive number is invalid */}
190     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44cafc56605c68aaffab4a428339a8bd600d}{FR\_NOT\_ENABLED},           \textcolor{comment}{/* (12) The volume has no work area */}
191     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca086154b5fee763f28c49fd0e2c1cb463}{FR\_NO\_FILESYSTEM},       \textcolor{comment}{/* (13) There is no valid FAT volume */}
192     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca4b02760f758f5b1a89f445244fe9fbca}{FR\_MKFS\_ABORTED},     \textcolor{comment}{/* (14) The f\_mkfs() aborted due to any parameter error */}
193     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3f8ca7e51af8b129d14328de7243c5d4}{FR\_TIMEOUT},               \textcolor{comment}{/* (15) Could not get a grant to access the volume within defined
       period */}
194     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca7db5afaaa2af591bd4a208b2967075d7}{FR\_LOCKED},             \textcolor{comment}{/* (16) The operation is rejected according to the file shareing policy
       */}
195     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44caf56a76a86602cbdeb2c4f3d00cfad21c}{FR\_NOT\_ENOUGH\_CORE},       \textcolor{comment}{/* (17) LFN working buffer could not be allocated */}
196     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca50dd3c3c274ccebb2cfbddde9d065bb9}{FR\_TOO\_MANY\_OPEN\_FILES},   \textcolor{comment}{/* (18) Number of open files > \_FS\_SHARE */}
197     \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44ca3b89faeceab64db277d0fcdeaaa315d6}{FR\_INVALID\_PARAMETER}    \textcolor{comment}{/* (19) Given parameter is invalid */}
198 \} \hyperlink{ff_8h_a49d0171ecbd362cda5680a0d360db44c}{FRESULT};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{ff_8h_a8e1bc23ae1f0d1475671b3c3a85f1eb9}{\index{ff.\-h@{ff.\-h}!f\-\_\-chdir@{f\-\_\-chdir}}
\index{f\-\_\-chdir@{f\-\_\-chdir}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-chdir}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-chdir (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a8e1bc23ae1f0d1475671b3c3a85f1eb9}
\hypertarget{ff_8h_aeb8cf46ad04b274439d6c2dc570be914}{\index{ff.\-h@{ff.\-h}!f\-\_\-chdrive@{f\-\_\-chdrive}}
\index{f\-\_\-chdrive@{f\-\_\-chdrive}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-chdrive}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-chdrive (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_aeb8cf46ad04b274439d6c2dc570be914}
\hypertarget{ff_8h_a22a66aed4537228126aa32afa015c7f1}{\index{ff.\-h@{ff.\-h}!f\-\_\-chmod@{f\-\_\-chmod}}
\index{f\-\_\-chmod@{f\-\_\-chmod}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-chmod}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-chmod (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a22a66aed4537228126aa32afa015c7f1}


Definition at line 1550 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-P\-A\-T\-H, A\-M\-\_\-\-A\-R\-C, A\-M\-\_\-\-H\-I\-D, A\-M\-\_\-\-R\-D\-O, A\-M\-\_\-\-S\-Y\-S, D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, dj, D\-I\-R\-::fn, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-O\-K, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-S, res, and F\-A\-T\-F\-S\-::wflag.


\begin{DoxyCode}
1555 \{
1556 \textcolor{comment}{//  FRESULT res;}
1557 \textcolor{comment}{//  DIR dj;}
1558 \textcolor{comment}{//  byte *dir;}
1559 \textcolor{comment}{//  char fn[8+3+1];}
1560 
1561 
1562     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 1);
1563     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{
1564         \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
1565         \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{             \textcolor{comment}{/* Trace completed */}
1566             \textcolor{keywordflow}{if} (!\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}) \{
1567                 \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{FR\_INVALID\_NAME};    \textcolor{comment}{/* Root directory */}
1568             \} \textcolor{keywordflow}{else} \{
1569                 mask &= \hyperlink{pff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{AM\_RDO}|\hyperlink{pff_8h_aa90c4c921c1955fd407d8bbf17f1674e}{AM\_HID}|\hyperlink{pff_8h_a1f25d5c17b5a3a6397b3398add8cdc15}{AM\_SYS}|\hyperlink{pff_8h_ae8174d00798e34e7c9e95898cb9e1a09}{AM\_ARC};    \textcolor{comment}{/* Valid attribute mask */}
1570                 \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] = (value & mask) | (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & (
      \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})~mask);    \textcolor{comment}{/* Apply attribute change */}
1571                 \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = sync();
1572             \}
1573         \}
1574     \}
1575     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1576 \}
\end{DoxyCode}
\hypertarget{ff_8h_a004f8ebf5a01c5c7065292cc4545bc38}{\index{ff.\-h@{ff.\-h}!f\-\_\-close@{f\-\_\-close}}
\index{f\-\_\-close@{f\-\_\-close}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-close}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-close (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a004f8ebf5a01c5c7065292cc4545bc38}


Definition at line 1098 of file tff.\-c.



References f\-\_\-sync(), F\-R\-\_\-\-O\-K, F\-I\-L\-::fs, F\-I\-L\-::id, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-U\-L\-L, and res.


\begin{DoxyCode}
1101 \{
1102 \textcolor{comment}{//  FRESULT res;}
1103 
1104 
1105 \textcolor{preprocessor}{#if !\_FS\_READONLY}
1106 \textcolor{preprocessor}{}    \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = \hyperlink{tff_8c_ad69c7246b122ba56a134939ee0eaf847}{f\_sync}(fp);
1107 \textcolor{preprocessor}{#else}
1108 \textcolor{preprocessor}{}    \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);
1109 \textcolor{preprocessor}{#endif}
1110 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) fp->fs = \hyperlink{p8_2pinguino_2core_2const_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1111     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1112 \}
\end{DoxyCode}
\hypertarget{ff_8h_aee751d19f6a82a8acd6157aa9ca41a88}{\index{ff.\-h@{ff.\-h}!f\-\_\-fdisk@{f\-\_\-fdisk}}
\index{f\-\_\-fdisk@{f\-\_\-fdisk}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-fdisk}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-fdisk (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{const {\bf D\-W\-O\-R\-D}}]{\mbox{[}$\,$\mbox{]}, }
\item[{void $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_aee751d19f6a82a8acd6157aa9ca41a88}
\hypertarget{ff_8h_ad6bc2bb687a030491eaed47486c5a839}{\index{ff.\-h@{ff.\-h}!f\-\_\-forward@{f\-\_\-forward}}
\index{f\-\_\-forward@{f\-\_\-forward}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-forward}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-forward (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{{\bf U\-I\-N\-T}($\ast$)(const {\bf P\-F\-\_\-\-B\-Y\-T\-E} $\ast$, {\bf U\-I\-N\-T})}]{, }
\item[{{\bf U\-I\-N\-T}}]{, }
\item[{{\bf U\-I\-N\-T} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_ad6bc2bb687a030491eaed47486c5a839}
\hypertarget{ff_8h_a0a4251a19a74e3bd6429fde4c1db96d4}{\index{ff.\-h@{ff.\-h}!f\-\_\-getcwd@{f\-\_\-getcwd}}
\index{f\-\_\-getcwd@{f\-\_\-getcwd}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-getcwd}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-getcwd (
\begin{DoxyParamCaption}
\item[{{\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf U\-I\-N\-T}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a0a4251a19a74e3bd6429fde4c1db96d4}
\hypertarget{ff_8h_a08f50eeafdd73abb2f4ad033ce6cabb0}{\index{ff.\-h@{ff.\-h}!f\-\_\-getfree@{f\-\_\-getfree}}
\index{f\-\_\-getfree@{f\-\_\-getfree}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-getfree}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-getfree (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf D\-W\-O\-R\-D} $\ast$}]{, }
\item[{{\bf F\-A\-T\-F\-S} $\ast$$\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a08f50eeafdd73abb2f4ad033ce6cabb0}


Definition at line 1359 of file tff.\-c.



References \-\_\-\-F\-A\-T32, F\-A\-T\-F\-S\-::fatbase, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-A\-T\-F\-S\-::free\-\_\-clust, F\-S\-\_\-\-F\-A\-T12, F\-S\-\_\-\-F\-A\-T16, F\-S\-\_\-\-F\-A\-T32, F\-A\-T\-F\-S\-::fs\-\_\-type, F\-A\-T\-F\-S\-::fsi\-\_\-flag, get\-\_\-fat(), L\-D\-\_\-\-D\-W\-O\-R\-D, L\-D\-\_\-\-W\-O\-R\-D, L\-E\-A\-V\-E\-\_\-\-F\-F, F\-A\-T\-F\-S\-::max\-\_\-clust, res, S\-S, and F\-A\-T\-F\-S\-::win.



Referenced by sd\-\_\-status().


\begin{DoxyCode}
1364 \{
1365 \textcolor{comment}{//  FRESULT res;}
1366     \hyperlink{struct_f_a_t_f_s}{FATFS} *fs;
1367     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} n, sect;
1368     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} clust;
1369     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} fat, f, *p;
1370 
1371 
1372     \textcolor{comment}{/* Get drive number */}
1373     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&drv, 0);
1374     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1375     *fatfs = fs = FatFs;
1376 
1377     \textcolor{comment}{/* If number of free cluster is valid, return it without cluster scan. */}
1378     \textcolor{keywordflow}{if} (fs->\hyperlink{struct_f_a_t_f_s_a7976c77220d4840b68e2aef308c770e5}{free\_clust} <= fs->\hyperlink{struct_f_a_t_f_s_aa628566fa0882ed951ed01fc6f20ff1b}{max\_clust} - 2) \{
1379         *nclust = fs->\hyperlink{struct_f_a_t_f_s_a7976c77220d4840b68e2aef308c770e5}{free\_clust};
1380         \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
1381     \}
1382 
1383     \textcolor{comment}{/* Get number of free clusters */}
1384     fat = fs->\hyperlink{struct_f_a_t_f_s_aee58d0bf64f06146927e78ad026b06ac}{fs\_type};
1385     n = 0;
1386     \textcolor{keywordflow}{if} (fat == \hyperlink{pff_8h_aab755aa1b4f81f4aabee4a5d4738cfb0}{FS\_FAT12}) \{
1387         clust = 2;
1388         \textcolor{keywordflow}{do} \{
1389             \textcolor{keywordflow}{if} ((\hyperlink{p8_2pinguino_2core_2typedef_8h_abad51e07ab6d26bec9f1f786c8d65bcd}{word})get\_cluster(clust) == 0) n++;
1390         \} \textcolor{keywordflow}{while} (++clust < fs->max\_clust);
1391     \} \textcolor{keywordflow}{else} \{
1392         clust = fs->\hyperlink{struct_f_a_t_f_s_aa628566fa0882ed951ed01fc6f20ff1b}{max\_clust};
1393         sect = fs->\hyperlink{struct_f_a_t_f_s_a4c158f002bd87f70c1595baef8888d96}{fatbase};
1394         f = 0; p = 0;
1395         \textcolor{keywordflow}{do} \{
1396             \textcolor{keywordflow}{if} (!f) \{
1397                 \textcolor{keywordflow}{if} (!move\_window(sect++)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1398                 p = fs->\hyperlink{struct_f_a_t_f_s_a54541860d8273ee2709def80ccc3e271}{win};
1399             \}
1400             \textcolor{keywordflow}{if} (!\hyperlink{tff_8h_a79fae83d3d8fd0b344b0e882b1f815dd}{\_FAT32} || fat == \hyperlink{pff_8h_a7ef90a36d99edfc0138a2155a17a79b9}{FS\_FAT16}) \{
1401                 \textcolor{keywordflow}{if} (\hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(p) == 0) n++;
1402                 p += 2; f += 1;
1403             \} \textcolor{keywordflow}{else} \{
1404                 \textcolor{keywordflow}{if} (\hyperlink{pff_8h_a4690304ddc975516f7dc02575c96e34e}{LD\_DWORD}(p) == 0) n++;
1405                 p += 4; f += 2;
1406             \}
1407         \} \textcolor{keywordflow}{while} (--clust);
1408     \}
1409     fs->\hyperlink{struct_f_a_t_f_s_a7976c77220d4840b68e2aef308c770e5}{free\_clust} = n;
1410 \textcolor{preprocessor}{#if \_USE\_FSINFO}
1411 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} (fat == \hyperlink{pff_8h_ac63e0796095a789cefdbc3c3c676c9ce}{FS\_FAT32}) fs->\hyperlink{struct_f_a_t_f_s_a7f248fa8f63ffcdabc347bc9467ec9bf}{fsi\_flag} = 1;
1412 \textcolor{preprocessor}{#endif}
1413 \textcolor{preprocessor}{}
1414     *nclust = n;
1415     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
1416 \}
\end{DoxyCode}
\hypertarget{ff_8h_af5af8207185e606397cb9077b61ab604}{\index{ff.\-h@{ff.\-h}!f\-\_\-gets@{f\-\_\-gets}}
\index{f\-\_\-gets@{f\-\_\-gets}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-gets}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\-C\-H\-A\-R}$\ast$ f\-\_\-gets (
\begin{DoxyParamCaption}
\item[{{\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{int}]{, }
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_af5af8207185e606397cb9077b61ab604}
\hypertarget{ff_8h_ac9a2d3b1cec2ede839b1c70397e6f1f8}{\index{ff.\-h@{ff.\-h}!f\-\_\-lseek@{f\-\_\-lseek}}
\index{f\-\_\-lseek@{f\-\_\-lseek}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-lseek}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-lseek (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{{\bf D\-W\-O\-R\-D}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_ac9a2d3b1cec2ede839b1c70397e6f1f8}


Definition at line 1122 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-E\-A\-D\-O\-N\-L\-Y, A\-B\-O\-R\-T, F\-I\-L\-::buf, F\-I\-L\-::cltbl, F\-I\-L\-::clust, clust2sect(), C\-R\-E\-A\-T\-E\-\_\-\-L\-I\-N\-K\-M\-A\-P, F\-I\-L\-::csect, F\-A\-T\-F\-S\-::csize, F\-I\-L\-::curr\-\_\-clust, disk\-\_\-read(), disk\-\_\-write(), F\-A\-T\-F\-S\-::drv, F\-I\-L\-::dsect, F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y, F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R, F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N, F\-A\-\_\-\-W\-R\-I\-T\-E, F\-I\-L\-::flag, F\-I\-L\-::fptr, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-N\-O\-T\-\_\-\-E\-N\-O\-U\-G\-H\-\_\-\-C\-O\-R\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-I\-L\-::fs, F\-I\-L\-::fsize, get\-\_\-fat(), F\-I\-L\-::id, if(), L\-E\-A\-V\-E\-\_\-\-F\-F, F\-A\-T\-F\-S\-::max\-\_\-clust, F\-A\-T\-F\-S\-::n\-\_\-fatent, F\-I\-L\-::org\-\_\-clust, res, R\-E\-S\-\_\-\-O\-K, F\-I\-L\-::sclust, and S\-S.


\begin{DoxyCode}
1126 \{
1127 \textcolor{comment}{//  FRESULT res;}
1128     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} clust;
1129     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} csize, ifptr;
1130 
1131 
1132     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);          \textcolor{comment}{/* Check validity of the object */}
1133     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1134     \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1135     \textcolor{keywordflow}{if} (ofs > fp->fsize                 \textcolor{comment}{/* In read-only mode, clip offset with the file size */}
1136 #\textcolor{keywordflow}{if} !\hyperlink{tff_8h_afb8d35370cfe0c23832ac2d82e854ec6}{\_FS\_READONLY}
1137          && !(fp->flag & \hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE})
1138 #endif
1139         ) ofs = fp->fsize;
1140 
1141     ifptr = fp->fptr;
1142     fp->fptr = 0; fp->csect = 255;
1143     \textcolor{keywordflow}{if} (ofs > 0) \{
1144         csize = (\hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword})fp->fs->csize * 512U;       \textcolor{comment}{/* Cluster size (byte) */}
1145         \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_af84ca11bf86c56a1f74027a99d48218d}{if} (ifptr > 0 &&
1146             (ofs - 1) / csize >= (ifptr - 1) / csize) \{\textcolor{comment}{/* When seek to same or following cluster, */}
1147             fp->fptr = (ifptr - 1) & ~(csize - 1);  \textcolor{comment}{/* start from the current cluster */}
1148             ofs -= fp->fptr;
1149             clust = fp->curr\_clust;
1150         \} \textcolor{keywordflow}{else} \{                                    \textcolor{comment}{/* When seek to back cluster, */}
1151             clust = fp->org\_clust;                  \textcolor{comment}{/* start from the first cluster */}
1152 \textcolor{preprocessor}{#if !\_FS\_READONLY}
1153 \textcolor{preprocessor}{}            \textcolor{keywordflow}{if} (clust == 0) \{                       \textcolor{comment}{/* If no cluster chain, create a new chain */}
1154                 clust = create\_chain(0);
1155                 \textcolor{keywordflow}{if} (clust == 1) \textcolor{keywordflow}{goto} fk\_error;
1156                 fp->org\_clust = clust;
1157             \}
1158 \textcolor{preprocessor}{#endif}
1159 \textcolor{preprocessor}{}            fp->curr\_clust = clust;
1160         \}
1161         \textcolor{keywordflow}{if} (clust != 0) \{
1162             \textcolor{keywordflow}{while} (ofs > csize) \{                   \textcolor{comment}{/* Cluster following loop */}
1163 \textcolor{preprocessor}{#if !\_FS\_READONLY}
1164 \textcolor{preprocessor}{}                \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE}) \{          \textcolor{comment}{/* Check if in write mode or not */}
1165                     clust = create\_chain(clust);    \textcolor{comment}{/* Force streached if in write mode */}
1166                     \textcolor{keywordflow}{if} (clust == 0) \{               \textcolor{comment}{/* When disk gets full, clip file size */}
1167                         ofs = csize; \textcolor{keywordflow}{break};
1168                     \}
1169                 \} \textcolor{keywordflow}{else}
1170 \textcolor{preprocessor}{#endif}
1171 \textcolor{preprocessor}{}                    clust = get\_cluster(clust);     \textcolor{comment}{/* Follow cluster chain if not in write mode */}
1172                 \textcolor{keywordflow}{if} (clust < 2 || clust >= fp->fs->max\_clust) \textcolor{keywordflow}{goto} fk\_error;
1173                 fp->curr\_clust = clust;
1174                 fp->fptr += csize;
1175                 ofs -= csize;
1176             \}
1177             fp->fptr += ofs;
1178             fp->csect = (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})(ofs / 512U); \textcolor{comment}{/* Sector offset in the cluster */}
1179             \textcolor{keywordflow}{if} (ofs % 512U) fp->csect++;
1180         \}
1181     \}
1182 
1183 \textcolor{preprocessor}{#if !\_FS\_READONLY}
1184 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} (fp->fptr > fp->fsize) \{         \textcolor{comment}{/* Set changed flag if the file was extended */}
1185         fp->fsize = fp->fptr;
1186         fp->flag |= \hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN};
1187     \}
1188 \textcolor{preprocessor}{#endif}
1189 \textcolor{preprocessor}{}
1190     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
1191 
1192 fk\_error:   \textcolor{comment}{/* Abort this file due to an unrecoverable error */}
1193     fp->flag |= \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR};
1194     \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1195 \}
\end{DoxyCode}
\hypertarget{ff_8h_a13452975056874fbec616433db001bf9}{\index{ff.\-h@{ff.\-h}!f\-\_\-mkdir@{f\-\_\-mkdir}}
\index{f\-\_\-mkdir@{f\-\_\-mkdir}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-mkdir}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-mkdir (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a13452975056874fbec616433db001bf9}


Definition at line 1478 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-P\-A\-T\-H, A\-M\-\_\-\-D\-I\-R, clust2sect(), F\-A\-T\-F\-S\-::csize, D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Fst\-Clus\-H\-I, D\-I\-R\-\_\-\-Fst\-Clus\-L\-O, D\-I\-R\-\_\-\-Name, D\-I\-R\-\_\-\-N\-Tres, D\-I\-R\-\_\-\-Wrt\-Time, F\-A\-T\-F\-S\-::dirbase, disk\-\_\-write(), dj, D\-I\-R\-::fn, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-E\-X\-I\-S\-T, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, F\-S\-\_\-\-F\-A\-T32, F\-A\-T\-F\-S\-::fs\-\_\-type, get\-\_\-fattime(), I\-N\-I\-T\-\_\-\-B\-U\-F, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-S, res, R\-E\-S\-\_\-\-O\-K, D\-I\-R\-::sclust, S\-S, S\-T\-\_\-\-C\-L\-U\-S\-T, S\-T\-\_\-\-D\-W\-O\-R\-D, S\-T\-\_\-\-W\-O\-R\-D, S\-Z\-\_\-\-D\-I\-R, F\-A\-T\-F\-S\-::wflag, F\-A\-T\-F\-S\-::win, F\-A\-T\-F\-S\-::winflag, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
1481 \{
1482 \textcolor{comment}{//  FRESULT res;}
1483 \textcolor{comment}{//  DIR dj;}
1484 \textcolor{comment}{//  byte *dir;}
1485     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} *fw, n;
1486 \textcolor{comment}{//  char fn[8+3+1];}
1487     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} sect, dsect, tim;
1488     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} dclust, pclust;
1489 
1490 
1491     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 1);
1492     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1493     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
1494     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{FR\_EXIST};      \textcolor{comment}{/* Any file or directory is already existing */}
1495     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1496 
1497     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = reserve\_direntry(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});      \textcolor{comment}{/* Reserve a directory entry */}
1498     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1499     sect = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a5ee19a26d1dfd79d52fbba59cc792da3}{winsect};
1500     dclust = create\_chain(0);               \textcolor{comment}{/* Allocate a cluster for new directory table */}
1501     \textcolor{keywordflow}{if} (dclust == 1) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1502     dsect = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(dclust);
1503     \textcolor{keywordflow}{if} (!dsect) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};
1504     \textcolor{keywordflow}{if} (!move\_window(dsect)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1505 
1506     fw = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a54541860d8273ee2709def80ccc3e271}{win};
1507     memset((\textcolor{keywordtype}{void} *)fw, 0, 512U);                    \textcolor{comment}{/* Clear the directory table */}
1508     \textcolor{keywordflow}{for} (n = 1; n < \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_af8143a50ac7be72544022dd46a7013da}{csize}; n++) \{
1509         \textcolor{keywordflow}{if} (\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a7ffe0ccc946550a260d00871c6b636e7}{disk\_write}(fw, ++dsect, 1) != \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK})
1510             \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1511     \}
1512 
1513     memset(&fw[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}], \textcolor{charliteral}{' '}, 8+3);        \textcolor{comment}{/* Create "." entry */}
1514     fw[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}] = \textcolor{charliteral}{'.'};
1515     fw[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] = \hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR};
1516     tim = \hyperlink{tff_8h_a489f23a9be58cd896a5c45e45c6e6e6f}{get\_fattime}();
1517     \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&fw[\hyperlink{pff_8h_ab9452d336adeece2a1b0b54ab35b8a59}{DIR\_WrtTime}], tim);
1518     memcpy(&fw[32], &fw[0], 32); fw[33] = \textcolor{charliteral}{'.'};  \textcolor{comment}{/* Create ".." entry */}
1519     pclust = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_aada1acd6ce100ead798e712b18c49547}{sclust};
1520 \textcolor{preprocessor}{#if \_FAT32}
1521 \textcolor{preprocessor}{}    \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&fw[   \hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}], dclust >> 16);
1522     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_aee58d0bf64f06146927e78ad026b06ac}{fs\_type} == \hyperlink{pff_8h_ac63e0796095a789cefdbc3c3c676c9ce}{FS\_FAT32} && pclust == \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->
      \hyperlink{struct_f_a_t_f_s_a2152449dba421b7671f09ec7fcc7fa4e}{dirbase}) pclust = 0;
1523     \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&fw[32+\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}], pclust >> 16);
1524 \textcolor{preprocessor}{#endif}
1525 \textcolor{preprocessor}{}    \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&fw[   \hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}], dclust);
1526     \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&fw[32+\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}], pclust);
1527     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_ac310e0b372e8ec4195568846746d2f49}{winflag} = 1;
1528 
1529     \textcolor{keywordflow}{if} (!move\_window(sect)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1530     memset(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[0], 0, 32);                      \textcolor{comment}{/* Clean-up the new entry */}
1531     memcpy(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}], \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, 8+3);           \textcolor{comment}{/* Name */}
1532     \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a87ee1f701c2ab941862e3ce00c1c1e9d}{DIR\_NTres}] = \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}[11];
1533     \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] = \hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR};                        \textcolor{comment}{/* Attribute */}
1534     \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ab9452d336adeece2a1b0b54ab35b8a59}{DIR\_WrtTime}], tim);         \textcolor{comment}{/* Crated time */}
1535     \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}], dclust);        \textcolor{comment}{/* Table start cluster */}
1536 \textcolor{preprocessor}{#if \_FAT32}
1537 \textcolor{preprocessor}{}    \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}], dclust >> 16);
1538 \textcolor{preprocessor}{#endif}
1539 \textcolor{preprocessor}{}
1540     \textcolor{keywordflow}{return} sync();
1541 \}
\end{DoxyCode}
\hypertarget{ff_8h_a6dd982dae31f4d5912b7d3b2896fd1b3}{\index{ff.\-h@{ff.\-h}!f\-\_\-mkfs@{f\-\_\-mkfs}}
\index{f\-\_\-mkfs@{f\-\_\-mkfs}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-mkfs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-mkfs (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf U\-I\-N\-T}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a6dd982dae31f4d5912b7d3b2896fd1b3}
\hypertarget{ff_8h_a0b09bebe611d9b1b9e9883507dd6a572}{\index{ff.\-h@{ff.\-h}!f\-\_\-mount@{f\-\_\-mount}}
\index{f\-\_\-mount@{f\-\_\-mount}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-mount}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-mount (
\begin{DoxyParamCaption}
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{, }
\item[{{\bf F\-A\-T\-F\-S} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a0b09bebe611d9b1b9e9883507dd6a572}


Definition at line 796 of file tff.\-c.



References \-\_\-\-V\-O\-L\-U\-M\-E\-S, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-R\-I\-V\-E, F\-R\-\_\-\-O\-K, and F\-A\-T\-F\-S\-::fs\-\_\-type.



Referenced by mount(), and unmount().


\begin{DoxyCode}
800 \{
801     \textcolor{keywordflow}{if} (drv) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca487844af77de15f6932a3b41ef3a2d65}{FR\_INVALID\_DRIVE};
802 
803     \textcolor{keywordflow}{if} (FatFs) FatFs->\hyperlink{struct_f_a_t_f_s_aee58d0bf64f06146927e78ad026b06ac}{fs\_type} = 0;   \textcolor{comment}{/* Clear old object */}
804 
805     FatFs = fs;                 \textcolor{comment}{/* Register and clear new object */}
806     \textcolor{keywordflow}{if} (fs) fs->\hyperlink{struct_f_a_t_f_s_aee58d0bf64f06146927e78ad026b06ac}{fs\_type} = 0;
807 
808     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
809 \}
\end{DoxyCode}
\hypertarget{ff_8h_a101dd5850e49f1aa1cd59766d8e98507}{\index{ff.\-h@{ff.\-h}!f\-\_\-open@{f\-\_\-open}}
\index{f\-\_\-open@{f\-\_\-open}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-open (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf P\-F\-\_\-\-B\-Y\-T\-E}}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a101dd5850e49f1aa1cd59766d8e98507}


Definition at line 818 of file tff.\-c.



References A\-M\-\_\-\-D\-I\-R, A\-M\-\_\-\-R\-D\-O, F\-I\-L\-::cltbl, F\-I\-L\-::csect, D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Crt\-Time, D\-I\-R\-\_\-\-File\-Size, D\-I\-R\-\_\-\-Fst\-Clus\-H\-I, D\-I\-R\-\_\-\-Fst\-Clus\-L\-O, D\-I\-R\-\_\-\-Name, D\-I\-R\-\_\-\-N\-Tres, F\-I\-L\-::dir\-\_\-ptr, F\-I\-L\-::dir\-\_\-sect, dj, F\-I\-L\-::dsect, F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N, F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-A\-L\-W\-A\-Y\-S, F\-A\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-N\-E\-W, F\-A\-\_\-\-O\-P\-E\-N\-\_\-\-A\-L\-W\-A\-Y\-S, F\-A\-\_\-\-R\-E\-A\-D, F\-A\-\_\-\-W\-R\-I\-T\-E, F\-I\-L\-::flag, F\-I\-L\-::fptr, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-E\-X\-I\-S\-T, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-R\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-O\-P\-E\-N\-\_\-\-F\-I\-L\-E\-S, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, F\-I\-L\-::fs, F\-I\-L\-::fsize, get\-\_\-fattime(), F\-A\-T\-F\-S\-::id, F\-I\-L\-::id, I\-N\-I\-T\-\_\-\-B\-U\-F, F\-A\-T\-F\-S\-::last\-\_\-clust, L\-D\-\_\-\-C\-L\-U\-S\-T, L\-D\-\_\-\-D\-W\-O\-R\-D, L\-D\-\_\-\-W\-O\-R\-D, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-U\-L\-L, F\-I\-L\-::org\-\_\-clust, res, F\-I\-L\-::sclust, S\-T\-\_\-\-C\-L\-U\-S\-T, S\-T\-\_\-\-D\-W\-O\-R\-D, S\-T\-\_\-\-W\-O\-R\-D, F\-A\-T\-F\-S\-::wflag, F\-A\-T\-F\-S\-::winflag, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
823 \{
824 \textcolor{comment}{//  FRESULT res;}
825 \textcolor{comment}{//  DIR dj;}
826 \textcolor{comment}{//  byte *dir;}
827 \textcolor{comment}{//  char fn[8+3+1];}
828 
829 
830     fp->fs = \hyperlink{p8_2pinguino_2core_2const_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};      \textcolor{comment}{/* Clear file object */}
831 \textcolor{preprocessor}{#if !\_FS\_READONLY}
832 \textcolor{preprocessor}{}    mode &= (\hyperlink{tff_8h_a1f4f3530ff03abbd979b072536e72290}{FA\_READ}|\hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE}|\hyperlink{tff_8h_afba4546b131dea4b24727fa20a80e29f}{FA\_CREATE\_ALWAYS}|
      \hyperlink{tff_8h_a17b01553029920ac0468912b4bcb16c7}{FA\_OPEN\_ALWAYS}|\hyperlink{tff_8h_a417bb1babd1785fd181a806b5613eba3}{FA\_CREATE\_NEW});
833     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})(mode & (\hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE}|
      \hyperlink{tff_8h_afba4546b131dea4b24727fa20a80e29f}{FA\_CREATE\_ALWAYS}|\hyperlink{tff_8h_a17b01553029920ac0468912b4bcb16c7}{FA\_OPEN\_ALWAYS}|\hyperlink{tff_8h_a417bb1babd1785fd181a806b5613eba3}{FA\_CREATE\_NEW})));
834 \textcolor{preprocessor}{#else}
835 \textcolor{preprocessor}{}    mode &= \hyperlink{tff_8h_a1f4f3530ff03abbd979b072536e72290}{FA\_READ};
836     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 0);
837 \textcolor{preprocessor}{#endif}
838 \textcolor{preprocessor}{}    \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
839     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
840 
841 \textcolor{preprocessor}{#if !\_FS\_READONLY}
842 \textcolor{preprocessor}{}    \textcolor{comment}{/* Create or Open a File */}
843     \textcolor{keywordflow}{if} (mode & (\hyperlink{tff_8h_afba4546b131dea4b24727fa20a80e29f}{FA\_CREATE\_ALWAYS}|\hyperlink{tff_8h_a17b01553029920ac0468912b4bcb16c7}{FA\_OPEN\_ALWAYS}|
      \hyperlink{tff_8h_a417bb1babd1785fd181a806b5613eba3}{FA\_CREATE\_NEW})) \{
844         \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} rs;
845         \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} dw;
846         \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{     \textcolor{comment}{/* No file, create new */}
847             \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
848             \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = reserve\_direntry(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});
849             \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
850             memset((\textcolor{keywordtype}{void} *)\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}, 0, 32);      \textcolor{comment}{/* Initialize the new entry with open name */}
851             memcpy(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}], \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, 8+3);
852             \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a87ee1f701c2ab941862e3ce00c1c1e9d}{DIR\_NTres}] = \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}[11];
853             mode |= \hyperlink{tff_8h_afba4546b131dea4b24727fa20a80e29f}{FA\_CREATE\_ALWAYS};
854         \}
855         \textcolor{keywordflow}{else} \{                  \textcolor{comment}{/* Any object is already existing */}
856             \textcolor{keywordflow}{if} (mode & \hyperlink{tff_8h_a417bb1babd1785fd181a806b5613eba3}{FA\_CREATE\_NEW})          \textcolor{comment}{/* Cannot create new */}
857                 \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{FR\_EXIST};
858             \textcolor{keywordflow}{if} (!\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir} || (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & (\hyperlink{pff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{AM\_RDO}|\hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR})))    \textcolor{comment}{/* Cannot overwrite
       (R/O or DIR) */}
859                 \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};
860             \textcolor{keywordflow}{if} (mode & \hyperlink{tff_8h_afba4546b131dea4b24727fa20a80e29f}{FA\_CREATE\_ALWAYS}) \{      \textcolor{comment}{/* Resize it to zero */}
861 \textcolor{preprocessor}{#if \_FAT32}
862 \textcolor{preprocessor}{}                rs = ((\hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword})\hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}]) << 16) | 
      \hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}]);
863                 \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[DIR\_FstClusHI], 0);
864 \textcolor{preprocessor}{#else}
865 \textcolor{preprocessor}{}                rs = \hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[DIR\_FstClusLO]);
866 \textcolor{preprocessor}{#endif}
867 \textcolor{preprocessor}{}                \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[DIR\_FstClusLO], 0);  \textcolor{comment}{/* cluster = 0 */}
868                 \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_abfbfa613864a02a65f0bf70ead6672c7}{DIR\_FileSize}], 0); \textcolor{comment}{/* size = 0 */}
869                 \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_ac310e0b372e8ec4195568846746d2f49}{winflag} = 1;
870                 dw = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a5ee19a26d1dfd79d52fbba59cc792da3}{winsect};         \textcolor{comment}{/* Remove the cluster chain */}
871                 \textcolor{keywordflow}{if} (!remove\_chain(rs) || !move\_window(dw))
872                     \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
873                 \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a07b2a137b54c6c95ffcee006c8906429}{last\_clust} = rs - 1;       \textcolor{comment}{/* Reuse the cluster hole */}
874             \}
875         \}
876         \textcolor{keywordflow}{if} (mode & FA\_CREATE\_ALWAYS) \{
877             \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] = 0;                   \textcolor{comment}{/* Reset attribute */}
878             dw = \hyperlink{tff_8h_a489f23a9be58cd896a5c45e45c6e6e6f}{get\_fattime}();
879             \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a47fb1881ea71d860db9b8280564cb4d5}{DIR\_CrtTime}], dw);  \textcolor{comment}{/* Created time */}
880             \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_ac310e0b372e8ec4195568846746d2f49}{winflag} = 1;
881             mode |= \hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN};             \textcolor{comment}{/* Set file changed flag */}
882         \}
883     \}
884     \textcolor{comment}{/* Open an existing file */}
885     \textcolor{keywordflow}{else} \{
886 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* !\_FS\_READONLY */}\textcolor{preprocessor}{}
887 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};            \textcolor{comment}{/* Trace failed */}
888         \textcolor{keywordflow}{if} (!\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir} || (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR}))   \textcolor{comment}{/* It is a directory */}
889             \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE};
890 \textcolor{preprocessor}{#if !\_FS\_READONLY}
891 \textcolor{preprocessor}{}        \textcolor{keywordflow}{if} ((mode & \hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE}) && (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{AM\_RDO})) \textcolor{comment}{/* R/O violation */}
892             \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};
893     \}
894     fp->dir\_sect = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a5ee19a26d1dfd79d52fbba59cc792da3}{winsect};       \textcolor{comment}{/* Pointer to the directory entry */}
895     fp->dir\_ptr = \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir};
896 \textcolor{preprocessor}{#endif}
897 \textcolor{preprocessor}{}    fp->flag = mode;                    \textcolor{comment}{/* File access mode */}
898     fp->org\_clust =                     \textcolor{comment}{/* File start cluster */}
899 \textcolor{preprocessor}{#if \_FAT32}
900 \textcolor{preprocessor}{}        ((\hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword})\hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[DIR\_FstClusHI]) << 16) |
901 #endif
902         \hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[DIR\_FstClusLO]);
903     fp->fsize = \hyperlink{pff_8h_a4690304ddc975516f7dc02575c96e34e}{LD\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_abfbfa613864a02a65f0bf70ead6672c7}{DIR\_FileSize}]);    \textcolor{comment}{/* File size */}
904     fp->fptr = 0; fp->csect = 255;      \textcolor{comment}{/* File pointer */}
905     fp->fs = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}; fp->\hyperlink{struct_f_a_t_f_s_a588688f55d57bf8a7e8c1d2cf88a3c56}{id} = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a588688f55d57bf8a7e8c1d2cf88a3c56}{id}; \textcolor{comment}{/* Owner file system object of the file */}
906     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
907 \}
\end{DoxyCode}
\hypertarget{ff_8h_a7608f0d3c152bcd2950704d881e41b8c}{\index{ff.\-h@{ff.\-h}!f\-\_\-opendir@{f\-\_\-opendir}}
\index{f\-\_\-opendir@{f\-\_\-opendir}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-opendir}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-opendir (
\begin{DoxyParamCaption}
\item[{{\bf D\-I\-R} $\ast$}]{, }
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a7608f0d3c152bcd2950704d881e41b8c}


Definition at line 1205 of file tff.\-c.



References A\-M\-\_\-\-D\-I\-R, D\-I\-R\-::clust, clust2sect(), D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Fst\-Clus\-H\-I, D\-I\-R\-\_\-\-Fst\-Clus\-L\-O, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-N\-O\-\_\-\-P\-A\-T\-H, F\-R\-\_\-\-O\-K, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, F\-A\-T\-F\-S\-::id, D\-I\-R\-::id, D\-I\-R\-::index, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-D\-\_\-\-C\-L\-U\-S\-T, L\-D\-\_\-\-W\-O\-R\-D, L\-E\-A\-V\-E\-\_\-\-F\-F, res, D\-I\-R\-::sclust, and D\-I\-R\-::sect.



Referenced by list\-Dir(), and scan\-\_\-files().


\begin{DoxyCode}
1209 \{
1210 \textcolor{comment}{//  FRESULT res;}
1211 \textcolor{comment}{//  byte *dir;}
1212 \textcolor{comment}{//  char fn[8+3+1];}
1213 
1214 
1215     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 0);
1216     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{
1217         \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}); \textcolor{comment}{/* Trace the directory path */}
1218         \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{                     \textcolor{comment}{/* Trace completed */}
1219             \textcolor{keywordflow}{if} (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}) \{                           \textcolor{comment}{/* It is not the root dir */}
1220                 \textcolor{keywordflow}{if} (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR}) \{  \textcolor{comment}{/* The entry is a directory */}
1221                     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aad779eab97ffc889755c8b483fbf9eb5}{clust} =
1222 \textcolor{preprocessor}{#if \_FAT32}
1223 \textcolor{preprocessor}{}                        ((\hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword})\hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}]) << 16) |
1224 #endif
1225                             \hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}]);
1226                     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect} = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aad779eab97ffc889755c8b483fbf9eb5}{clust});
1227                     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a7cb92c69ac44a71424d6b8a0c3dac288}{index} = 2;
1228                 \} \textcolor{keywordflow}{else} \{                        \textcolor{comment}{/* The entry is not a directory */}
1229                     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE};
1230                 \}
1231             \}
1232             \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a588688f55d57bf8a7e8c1d2cf88a3c56}{id} = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a588688f55d57bf8a7e8c1d2cf88a3c56}{id};
1233         \}
1234     \}
1235 
1236     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1237 \}
\end{DoxyCode}
\hypertarget{ff_8h_a0af8ac748b025f644daabe5ce5609d8b}{\index{ff.\-h@{ff.\-h}!f\-\_\-printf@{f\-\_\-printf}}
\index{f\-\_\-printf@{f\-\_\-printf}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-printf}]{\setlength{\rightskip}{0pt plus 5cm}int f\-\_\-printf (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{ff_8h_a0af8ac748b025f644daabe5ce5609d8b}
\hypertarget{ff_8h_a6b6f28130325afd1c1ee5a62da837042}{\index{ff.\-h@{ff.\-h}!f\-\_\-putc@{f\-\_\-putc}}
\index{f\-\_\-putc@{f\-\_\-putc}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-putc}]{\setlength{\rightskip}{0pt plus 5cm}int f\-\_\-putc (
\begin{DoxyParamCaption}
\item[{{\bf T\-C\-H\-A\-R}}]{, }
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a6b6f28130325afd1c1ee5a62da837042}
\hypertarget{ff_8h_acb521b6e0831ac577eb2772bd8ba44a3}{\index{ff.\-h@{ff.\-h}!f\-\_\-puts@{f\-\_\-puts}}
\index{f\-\_\-puts@{f\-\_\-puts}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-puts}]{\setlength{\rightskip}{0pt plus 5cm}int f\-\_\-puts (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_acb521b6e0831ac577eb2772bd8ba44a3}
\hypertarget{ff_8h_a9f0df1d597f92e2e6482e3a8f5c9b136}{\index{ff.\-h@{ff.\-h}!f\-\_\-read@{f\-\_\-read}}
\index{f\-\_\-read@{f\-\_\-read}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-read (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{void $\ast$}]{, }
\item[{{\bf U\-I\-N\-T}}]{, }
\item[{{\bf U\-I\-N\-T} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a9f0df1d597f92e2e6482e3a8f5c9b136}


Definition at line 916 of file tff.\-c.



References A\-B\-O\-R\-T, F\-I\-L\-::buf, F\-I\-L\-::cltbl, F\-I\-L\-::clust, clust2sect(), F\-I\-L\-::csect, F\-A\-T\-F\-S\-::csize, F\-I\-L\-::curr\-\_\-clust, disk\-\_\-read(), disk\-\_\-write(), F\-A\-T\-F\-S\-::drv, F\-I\-L\-::dsect, F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y, F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R, F\-A\-\_\-\-R\-E\-A\-D, F\-I\-L\-::flag, F\-I\-L\-::fptr, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-I\-L\-::fs, F\-I\-L\-::fsize, get\-\_\-fat(), F\-I\-L\-::id, L\-E\-A\-V\-E\-\_\-\-F\-F, F\-A\-T\-F\-S\-::max\-\_\-clust, F\-I\-L\-::org\-\_\-clust, res, R\-E\-S\-\_\-\-O\-K, F\-I\-L\-::sclust, S\-S, F\-A\-T\-F\-S\-::wflag, F\-A\-T\-F\-S\-::win, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
922 \{
923 \textcolor{comment}{//  FRESULT res;}
924     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} sect, remain;
925     \hyperlink{p8_2pinguino_2core_2typedef_8h_abad51e07ab6d26bec9f1f786c8d65bcd}{word} rcnt, cc;
926     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} clust;
927     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} *rbuff = buff;
928 
929 
930     *br = 0;
931     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);                  \textcolor{comment}{/* Check validity of the object */}
932     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
933     \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};   \textcolor{comment}{/* Check error flag */}
934     \textcolor{keywordflow}{if} (!(fp->flag & \hyperlink{tff_8h_a1f4f3530ff03abbd979b072536e72290}{FA\_READ})) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};    \textcolor{comment}{/* Check access mode */}
935     remain = fp->fsize - fp->fptr;
936     \textcolor{keywordflow}{if} (btr > remain) btr = (\hyperlink{p8_2pinguino_2core_2typedef_8h_abad51e07ab6d26bec9f1f786c8d65bcd}{word})remain;           \textcolor{comment}{/* Truncate btr by remaining bytes */}
937 
938     \textcolor{keywordflow}{for} ( ;  btr;                                   \textcolor{comment}{/* Repeat until all data transferred */}
939         rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) \{
940         \textcolor{keywordflow}{if} ((fp->fptr % 512U) == 0) \{               \textcolor{comment}{/* On the sector boundary? */}
941             \textcolor{keywordflow}{if} (fp->csect >= fp->fs->csize) \{       \textcolor{comment}{/* On the cluster boundary? */}
942                 clust = (fp->fptr == 0) ?           \textcolor{comment}{/* On the top of the file? */}
943                     fp->org\_clust : get\_cluster(fp->curr\_clust);
944                 \textcolor{keywordflow}{if} (clust < 2 || clust >= fp->fs->max\_clust) \textcolor{keywordflow}{goto} fr\_error;
945                 fp->curr\_clust = clust;             \textcolor{comment}{/* Update current cluster */}
946                 fp->csect = 0;                      \textcolor{comment}{/* Reset sector address in the cluster */}
947             \}
948             sect = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(fp->curr\_clust) + fp->csect;    \textcolor{comment}{/* Get current sector */}
949             cc = btr / 512U;                        \textcolor{comment}{/* When remaining bytes >= sector size, */}
950             \textcolor{keywordflow}{if} (cc) \{                               \textcolor{comment}{/* Read maximum contiguous sectors directly */}
951                 \textcolor{keywordflow}{if} (fp->csect + cc > fp->fs->csize) \textcolor{comment}{/* Clip at cluster boundary */}
952                     cc = fp->fs->csize - fp->csect;
953                 \textcolor{keywordflow}{if} (\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a77ba19c0c97a900fac95999446e32308}{disk\_read}(rbuff, sect, (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})cc) != \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK})
954                     \textcolor{keywordflow}{goto} fr\_error;
955                 fp->csect += (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})cc;              \textcolor{comment}{/* Next sector address in the cluster */}
956                 rcnt = 512U * cc;                   \textcolor{comment}{/* Number of bytes transferred */}
957                 \textcolor{keywordflow}{continue};
958             \}
959             fp->csect++;                            \textcolor{comment}{/* Next sector address in the cluster */}
960         \}
961         sect = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(fp->curr\_clust) + fp->csect - 1;    \textcolor{comment}{/* Get current sector */}
962         \textcolor{keywordflow}{if} (!move\_window(sect)) \textcolor{keywordflow}{goto} fr\_error;      \textcolor{comment}{/* Move sector window */}
963         rcnt = 512U - (fp->fptr % 512U);            \textcolor{comment}{/* Get partial sector from sector window */}
964         \textcolor{keywordflow}{if} (rcnt > btr) rcnt = btr;
965         memcpy(rbuff, &fp->fs->win[fp->fptr % 512U], rcnt);
966     \}
967 
968     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
969 
970 fr\_error:   \textcolor{comment}{/* Abort this file due to an unrecoverable error */}
971     fp->flag |= \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR};
972     \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
973 \}
\end{DoxyCode}
\hypertarget{ff_8h_ae84f86ce841a3facb95060e0bdefd5fb}{\index{ff.\-h@{ff.\-h}!f\-\_\-readdir@{f\-\_\-readdir}}
\index{f\-\_\-readdir@{f\-\_\-readdir}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-readdir}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-readdir (
\begin{DoxyParamCaption}
\item[{{\bf D\-I\-R} $\ast$}]{, }
\item[{{\bf F\-I\-L\-I\-N\-F\-O} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_ae84f86ce841a3facb95060e0bdefd5fb}


Definition at line 1246 of file tff.\-c.



References c, D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Name, F\-I\-L\-I\-N\-F\-O\-::fname, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, D\-I\-R\-::id, if(), D\-I\-R\-::index, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-E\-A\-V\-E\-\_\-\-F\-F, res, D\-I\-R\-::sect, and F\-A\-T\-F\-S\-::win.



Referenced by list\-Dir(), and scan\-\_\-files().


\begin{DoxyCode}
1250 \{
1251 \textcolor{comment}{//  FRESULT res;}
1252 \textcolor{comment}{//  byte *dir;}
1253     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_aa0dd25f53b00986c159fb20de6894e51}{c};
1254 
1255 
1256     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}, \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a588688f55d57bf8a7e8c1d2cf88a3c56}{id});          \textcolor{comment}{/* Check validity of the object */}
1257     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1258 
1259     finfo->fname[0] = 0;
1260     \textcolor{keywordflow}{while} (\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect}) \{
1261         \textcolor{keywordflow}{if} (!move\_window(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect}))
1262             \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1263         \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir} = &\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a54541860d8273ee2709def80ccc3e271}{win}[(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_a7cb92c69ac44a71424d6b8a0c3dac288}{index} & 15) * 32]; \textcolor{comment}{/* pointer to the directory entry */}
1264         c = \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}];
1265         \textcolor{keywordflow}{if} (c == 0) \textcolor{keywordflow}{break};                          \textcolor{comment}{/* Has it reached to end of dir? */}
1266         \textcolor{keywordflow}{if} (c != 0xE5 && !(\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_a5cfae62dabae0a54809e43b36685ce7c}{AM\_VOL}))    \textcolor{comment}{/* Is it a valid entry? */}
1267             get\_fileinfo(finfo, \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});
1268         \textcolor{keywordflow}{if} (!next\_dir\_entry(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj})) \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}->\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect} = 0;      \textcolor{comment}{/* Next entry */}
1269         \hyperlink{p8_2pinguino_2libraries_2_p_c_d8544_8c_af84ca11bf86c56a1f74027a99d48218d}{if} (finfo->fname[0]) \textcolor{keywordflow}{break};                   \textcolor{comment}{/* Found valid entry */}
1270     \}
1271 
1272     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
1273 \}
\end{DoxyCode}
\hypertarget{ff_8h_a0670638c6a93e143b7a8b196ab361c83}{\index{ff.\-h@{ff.\-h}!f\-\_\-rename@{f\-\_\-rename}}
\index{f\-\_\-rename@{f\-\_\-rename}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-rename}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-rename (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a0670638c6a93e143b7a8b196ab361c83}


Definition at line 1619 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-P\-A\-T\-H, A\-M\-\_\-\-A\-R\-C, A\-M\-\_\-\-D\-I\-R, clust2sect(), D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Name, D\-I\-R\-\_\-\-N\-Tres, F\-A\-T\-F\-S\-::dirbase, D\-I\-R\-::fn, F\-R\-\_\-\-E\-X\-I\-S\-T, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, F\-S\-\_\-\-F\-A\-T32, F\-A\-T\-F\-S\-::fs\-\_\-type, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-D\-\_\-\-C\-L\-U\-S\-T, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-S, res, D\-I\-R\-::sclust, S\-T\-\_\-\-C\-L\-U\-S\-T, S\-Z\-\_\-\-D\-I\-R, F\-A\-T\-F\-S\-::wflag, F\-A\-T\-F\-S\-::win, F\-A\-T\-F\-S\-::winflag, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
1623 \{
1624     \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44c}{FRESULT} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1625     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} sect\_old;
1626     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} *dir\_old, *dir\_new, direntry[32-11];
1627 \textcolor{comment}{//  DIR dj;}
1628 \textcolor{comment}{//  char fn[8+3+1];}
1629 
1630 
1631     res = auto\_mount(&path\_old, 1);
1632     \textcolor{keywordflow}{if} (res != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1633 
1634     res = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path\_old, &dir\_old);  \textcolor{comment}{/* Check old object */}
1635     \textcolor{keywordflow}{if} (res != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};               \textcolor{comment}{/* The old object is not found */}
1636     \textcolor{keywordflow}{if} (!dir\_old) \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE};
1637     sect\_old = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a5ee19a26d1dfd79d52fbba59cc792da3}{winsect};                   \textcolor{comment}{/* Save the object information */}
1638     memcpy(direntry, &dir\_old[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}], 32-11);
1639 
1640     res = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path\_new, &dir\_new);  \textcolor{comment}{/* Check new object */}
1641     \textcolor{keywordflow}{if} (res == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca0d8f024d256df76e84782b95018a2450}{FR\_EXIST};         \textcolor{comment}{/* The new object name is already existing */}
1642     \textcolor{keywordflow}{if} (res != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca97da8f98fc2e66d8fa7847f9ebb19b8c}{FR\_NO\_FILE}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};         \textcolor{comment}{/* Is there no old name? */}
1643     res = reserve\_direntry(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, &dir\_new);        \textcolor{comment}{/* Reserve a directory entry */}
1644     \textcolor{keywordflow}{if} (res != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1645 
1646     memcpy(&dir\_new[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}], direntry, 32-11);    \textcolor{comment}{/* Create new entry */}
1647     memcpy(&dir\_new[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}], \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, 8+3);
1648     dir\_new[\hyperlink{pff_8h_a87ee1f701c2ab941862e3ce00c1c1e9d}{DIR\_NTres}] = \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}[11];
1649     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_ac310e0b372e8ec4195568846746d2f49}{winflag} = 1;
1650 
1651     \textcolor{keywordflow}{if} (!move\_window(sect\_old)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};  \textcolor{comment}{/* Delete old entry */}
1652     dir\_old[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}] = 0xE5;
1653 
1654     \textcolor{keywordflow}{return} sync();
1655 \}
\end{DoxyCode}
\hypertarget{ff_8h_aee04d91ad57ffe5a66a6a0e0b16fdfe6}{\index{ff.\-h@{ff.\-h}!f\-\_\-stat@{f\-\_\-stat}}
\index{f\-\_\-stat@{f\-\_\-stat}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-stat}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-stat (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{{\bf F\-I\-L\-I\-N\-F\-O} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_aee04d91ad57ffe5a66a6a0e0b16fdfe6}


Definition at line 1283 of file tff.\-c.



References D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, D\-I\-R\-::dir, dj, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-O\-K, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-E\-A\-V\-E\-\_\-\-F\-F, and res.


\begin{DoxyCode}
1287 \{
1288 \textcolor{comment}{//  FRESULT res;}
1289 \textcolor{comment}{//  DIR dj;}
1290 \textcolor{comment}{//  byte *dir;}
1291 \textcolor{comment}{//  char fn[8+3+1];}
1292 
1293 
1294     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 0);
1295     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{
1296         \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
1297         \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{                     \textcolor{comment}{/* Trace completed */}
1298             \textcolor{keywordflow}{if} (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}) \textcolor{comment}{/* Found an object */}
1299                 get\_fileinfo(finfo, \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});
1300             \textcolor{keywordflow}{else}        \textcolor{comment}{/* It is root dir */}
1301                 \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{FR\_INVALID\_NAME};
1302         \}
1303     \}
1304 
1305     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1306 \}
\end{DoxyCode}
\hypertarget{ff_8h_ae3ba7b156902f7678b3344f1e5bc5e88}{\index{ff.\-h@{ff.\-h}!f\-\_\-sync@{f\-\_\-sync}}
\index{f\-\_\-sync@{f\-\_\-sync}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-sync}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-sync (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_ae3ba7b156902f7678b3344f1e5bc5e88}


Definition at line 1061 of file tff.\-c.



References A\-M\-\_\-\-A\-R\-C, F\-I\-L\-::buf, dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-File\-Size, D\-I\-R\-\_\-\-Fst\-Clus\-H\-I, D\-I\-R\-\_\-\-Fst\-Clus\-L\-O, F\-I\-L\-::dir\-\_\-ptr, F\-I\-L\-::dir\-\_\-sect, D\-I\-R\-\_\-\-Wrt\-Time, disk\-\_\-write(), F\-A\-T\-F\-S\-::drv, F\-I\-L\-::dsect, F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y, F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N, F\-I\-L\-::flag, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-I\-L\-::fs, F\-I\-L\-::fsize, get\-\_\-fattime(), F\-I\-L\-::id, L\-E\-A\-V\-E\-\_\-\-F\-F, F\-I\-L\-::org\-\_\-clust, res, R\-E\-S\-\_\-\-O\-K, F\-I\-L\-::sclust, S\-T\-\_\-\-C\-L\-U\-S\-T, S\-T\-\_\-\-D\-W\-O\-R\-D, S\-T\-\_\-\-W\-O\-R\-D, and F\-A\-T\-F\-S\-::wflag.



Referenced by f\-\_\-close().


\begin{DoxyCode}
1064 \{
1065 \textcolor{comment}{//  FRESULT res;}
1066     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} tim;
1067 \textcolor{comment}{//  byte *dir;}
1068 
1069     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);      \textcolor{comment}{/* Check validity of the object */}
1070     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{
1071         \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN}) \{    \textcolor{comment}{/* Has the file been written? */}
1072             \textcolor{comment}{/* Update the directory entry */}
1073             \textcolor{keywordflow}{if} (!move\_window(fp->dir\_sect)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1074             \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir} = fp->dir\_ptr;
1075             \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] |= \hyperlink{pff_8h_ae8174d00798e34e7c9e95898cb9e1a09}{AM\_ARC};                       \textcolor{comment}{/* Set archive bit */}
1076             \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_abfbfa613864a02a65f0bf70ead6672c7}{DIR\_FileSize}], fp->fsize);     \textcolor{comment}{/* Update file size */}
1077             \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}], fp->org\_clust); \textcolor{comment}{/* Update start cluster */}
1078 \textcolor{preprocessor}{#if \_FAT32}
1079 \textcolor{preprocessor}{}            \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}], fp->org\_clust >> 16);
1080 \textcolor{preprocessor}{#endif}
1081 \textcolor{preprocessor}{}            tim = \hyperlink{tff_8h_a489f23a9be58cd896a5c45e45c6e6e6f}{get\_fattime}();                 \textcolor{comment}{/* Updated time */}
1082             \hyperlink{pff_8h_abf5aba973d95ac5843b80aa7379cdd66}{ST\_DWORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ab9452d336adeece2a1b0b54ab35b8a59}{DIR\_WrtTime}], tim);
1083             fp->flag &= (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})~\hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN};
1084             \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = sync();
1085         \}
1086     \}
1087     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1088 \}
\end{DoxyCode}
\hypertarget{ff_8h_a29d002c2c9b726151b9c1a4ad742c41d}{\index{ff.\-h@{ff.\-h}!f\-\_\-truncate@{f\-\_\-truncate}}
\index{f\-\_\-truncate@{f\-\_\-truncate}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-truncate}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-truncate (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a29d002c2c9b726151b9c1a4ad742c41d}


Definition at line 1316 of file tff.\-c.



References F\-I\-L\-::clust, F\-I\-L\-::curr\-\_\-clust, F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R, F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N, F\-A\-\_\-\-W\-R\-I\-T\-E, F\-I\-L\-::flag, F\-I\-L\-::fptr, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-I\-L\-::fs, F\-I\-L\-::fsize, get\-\_\-fat(), F\-I\-L\-::id, L\-E\-A\-V\-E\-\_\-\-F\-F, F\-A\-T\-F\-S\-::max\-\_\-clust, F\-A\-T\-F\-S\-::n\-\_\-fatent, F\-I\-L\-::org\-\_\-clust, put\-\_\-fat(), res, and F\-I\-L\-::sclust.


\begin{DoxyCode}
1319 \{
1320 \textcolor{comment}{//  FRESULT res;}
1321     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} ncl;
1322 
1323 
1324     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);      \textcolor{comment}{/* Check validity of the object */}
1325     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1326     \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};   \textcolor{comment}{/* Check error flag */}
1327     \textcolor{keywordflow}{if} (!(fp->flag & \hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE})) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};  \textcolor{comment}{/* Check access mode */}
1328 
1329     \textcolor{keywordflow}{if} (fp->fsize > fp->fptr) \{
1330         fp->fsize = fp->fptr;   \textcolor{comment}{/* Set file size to current R/W point */}
1331         fp->flag |= \hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN};
1332         \textcolor{keywordflow}{if} (fp->fptr == 0) \{    \textcolor{comment}{/* When set file size to zero, remove entire cluster chain */}
1333             \textcolor{keywordflow}{if} (!remove\_chain(fp->org\_clust)) \textcolor{keywordflow}{goto} ft\_error;
1334             fp->org\_clust = 0;
1335         \} \textcolor{keywordflow}{else} \{                \textcolor{comment}{/* When truncate a part of the file, remove remaining clusters */}
1336             ncl = get\_cluster(fp->curr\_clust);
1337             \textcolor{keywordflow}{if} (ncl < 2) \textcolor{keywordflow}{goto} ft\_error;
1338             \textcolor{keywordflow}{if} (ncl < fp->fs->max\_clust) \{
1339                 \textcolor{keywordflow}{if} (!put\_cluster(fp->curr\_clust, (\hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST})0x0FFFFFFF)) \textcolor{keywordflow}{goto} ft\_error;
1340                 \textcolor{keywordflow}{if} (!remove\_chain(ncl)) \textcolor{keywordflow}{goto} ft\_error;
1341             \}
1342         \}
1343     \}
1344 
1345     \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};
1346 
1347 ft\_error:   \textcolor{comment}{/* Abort this file due to an unrecoverable error */}
1348     fp->flag |= \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR};
1349     \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1350 \}
\end{DoxyCode}
\hypertarget{ff_8h_aab68be1620730d7ed482d209f417b40b}{\index{ff.\-h@{ff.\-h}!f\-\_\-unlink@{f\-\_\-unlink}}
\index{f\-\_\-unlink@{f\-\_\-unlink}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-unlink}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-unlink (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_aab68be1620730d7ed482d209f417b40b}


Definition at line 1425 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-P\-A\-T\-H, A\-M\-\_\-\-D\-I\-R, A\-M\-\_\-\-R\-D\-O, D\-I\-R\-::clust, clust2sect(), D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Attr, D\-I\-R\-\_\-\-Fst\-Clus\-H\-I, D\-I\-R\-\_\-\-Fst\-Clus\-L\-O, D\-I\-R\-\_\-\-Name, dj, D\-I\-R\-::fn, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-N\-O\-\_\-\-F\-I\-L\-E, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, D\-I\-R\-::index, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-D\-\_\-\-C\-L\-U\-S\-T, L\-D\-\_\-\-W\-O\-R\-D, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-S, res, D\-I\-R\-::sclust, D\-I\-R\-::sect, F\-A\-T\-F\-S\-::win, F\-A\-T\-F\-S\-::winflag, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
1428 \{
1429 \textcolor{comment}{//  FRESULT res;}
1430 \textcolor{comment}{//  DIR dj;}
1431 \textcolor{comment}{//  byte *dir;}
1432     \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} *sdir;
1433     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} dsect;
1434 \textcolor{comment}{//  char fn[8+3+1];}
1435     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} dclust;
1436 
1437 
1438     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 1);
1439     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1440     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
1441     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};            \textcolor{comment}{/* Trace failed */}
1442     \textcolor{keywordflow}{if} (!\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{FR\_INVALID\_NAME};     \textcolor{comment}{/* It is the root directory */}
1443     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_add6d85d1e7a02b4f6188783ef91a5f1e}{AM\_RDO}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED}; \textcolor{comment}{/* It is a R/O object */}
1444     dsect = \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a5ee19a26d1dfd79d52fbba59cc792da3}{winsect};
1445     dclust =
1446 \textcolor{preprocessor}{#if \_FAT32}
1447 \textcolor{preprocessor}{}        ((\hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword})\hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_a0bc29c3f09e1e9c40c414f7d50d7905c}{DIR\_FstClusHI}]) << 16) |
1448 #endif
1449         \hyperlink{pff_8h_a398519bb08da6457e62567d1f0b567e3}{LD\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_aebe0e913bff75a89d38dbcb04baf5dff}{DIR\_FstClusLO}]);
1450     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & \hyperlink{pff_8h_a3a9db44e978ed6c13b641e092d4cd7d3}{AM\_DIR}) \{          \textcolor{comment}{/* It is a sub-directory */}
1451         \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_aad779eab97ffc889755c8b483fbf9eb5}{clust} = dclust;                   \textcolor{comment}{/* Check if the sub-dir is empty or not */}
1452         \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect} = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(dclust);
1453         \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a7cb92c69ac44a71424d6b8a0c3dac288}{index} = 2;
1454         \textcolor{keywordflow}{do} \{
1455             \textcolor{keywordflow}{if} (!move\_window(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_aa7c560f325cb4d59f40dc8cf731b6e22}{sect})) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1456             sdir = &\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_a54541860d8273ee2709def80ccc3e271}{win}[(\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a7cb92c69ac44a71424d6b8a0c3dac288}{index} & 15) * 32];
1457             \textcolor{keywordflow}{if} (sdir[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}] == 0) \textcolor{keywordflow}{break};
1458             \textcolor{keywordflow}{if} (sdir[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}] != 0xE5 && !(sdir[\hyperlink{pff_8h_ad3233e40118ed66095f3c9545b788f8a}{DIR\_Attr}] & 
      \hyperlink{pff_8h_a5cfae62dabae0a54809e43b36685ce7c}{AM\_VOL}))
1459                 \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};  \textcolor{comment}{/* The directory is not empty */}
1460         \} \textcolor{keywordflow}{while} (next\_dir\_entry(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}));
1461     \}
1462 
1463     \textcolor{keywordflow}{if} (!move\_window(dsect)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR}; \textcolor{comment}{/* Mark the directory entry 'deleted' */}
1464     \hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_afa89348e9fc2de82ae9e12c661366b0e}{DIR\_Name}] = 0xE5;
1465     \hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}.\hyperlink{struct_d_i_r_a472e3612956e3ffb3ab823c37ca33250}{fs}->\hyperlink{struct_f_a_t_f_s_ac310e0b372e8ec4195568846746d2f49}{winflag} = 1;
1466     \textcolor{keywordflow}{if} (!remove\_chain(dclust)) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};   \textcolor{comment}{/* Remove the cluster chain */}
1467 
1468     \textcolor{keywordflow}{return} sync();
1469 \}
\end{DoxyCode}
\hypertarget{ff_8h_a748ed6ec723321a5c5e35e7112ac531c}{\index{ff.\-h@{ff.\-h}!f\-\_\-utime@{f\-\_\-utime}}
\index{f\-\_\-utime@{f\-\_\-utime}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-utime}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-utime (
\begin{DoxyParamCaption}
\item[{const {\bf T\-C\-H\-A\-R} $\ast$}]{, }
\item[{const {\bf F\-I\-L\-I\-N\-F\-O} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_a748ed6ec723321a5c5e35e7112ac531c}


Definition at line 1585 of file tff.\-c.



References \-\_\-\-F\-S\-\_\-\-R\-P\-A\-T\-H, D\-E\-F\-\_\-\-N\-A\-M\-E\-B\-U\-F, dir, D\-I\-R\-::dir, D\-I\-R\-\_\-\-Wrt\-Date, D\-I\-R\-\_\-\-Wrt\-Time, dj, F\-I\-L\-I\-N\-F\-O\-::fdate, D\-I\-R\-::fn, F\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-N\-A\-M\-E, F\-R\-\_\-\-O\-K, F\-R\-E\-E\-\_\-\-B\-U\-F, D\-I\-R\-::fs, F\-I\-L\-I\-N\-F\-O\-::ftime, I\-N\-I\-T\-\_\-\-B\-U\-F, L\-E\-A\-V\-E\-\_\-\-F\-F, N\-S, res, S\-T\-\_\-\-W\-O\-R\-D, and F\-A\-T\-F\-S\-::wflag.


\begin{DoxyCode}
1589 \{
1590 \textcolor{comment}{//  FRESULT res;}
1591 \textcolor{comment}{//  DIR dj;}
1592 \textcolor{comment}{//  byte *dir;}
1593 \textcolor{comment}{//  char fn[8+3+1];}
1594 
1595 
1596     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = auto\_mount(&path, 1);
1597     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{
1598         \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = trace\_path(&\hyperlink{tff_8c_a90affc32512431e143844fa9721bf9d9}{dj}, \hyperlink{tff_8c_a4eeeb71a8aa4cf022612fc51ab25ed15}{fn}, path, &\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir});    \textcolor{comment}{/* Trace the file path */}
1599         \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} == \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \{             \textcolor{comment}{/* Trace completed */}
1600             \textcolor{keywordflow}{if} (!\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}) \{
1601                 \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca83e45a4b579558c57192c0a391b9bb45}{FR\_INVALID\_NAME};    \textcolor{comment}{/* Root directory */}
1602             \} \textcolor{keywordflow}{else} \{
1603                 \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_ab9452d336adeece2a1b0b54ab35b8a59}{DIR\_WrtTime}], finfo->ftime);
1604                 \hyperlink{pff_8h_a95ceb4c25b216e71baa7102939edfd0d}{ST\_WORD}(&\hyperlink{tff_8c_addeee88e846cc637a785bcaf23b45b5e}{dir}[\hyperlink{pff_8h_abed17fa699511b09cbf64961373d63a4}{DIR\_WrtDate}], finfo->fdate);
1605                 \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = sync();
1606             \}
1607         \}
1608     \}
1609     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1610 \}
\end{DoxyCode}
\hypertarget{ff_8h_af02e0c59a61ad5954bc9b566fe8a79b8}{\index{ff.\-h@{ff.\-h}!f\-\_\-write@{f\-\_\-write}}
\index{f\-\_\-write@{f\-\_\-write}!ff.h@{ff.\-h}}
\subsubsection[{f\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\-R\-E\-S\-U\-L\-T} f\-\_\-write (
\begin{DoxyParamCaption}
\item[{{\bf F\-I\-L} $\ast$}]{, }
\item[{const void $\ast$}]{, }
\item[{{\bf U\-I\-N\-T}}]{, }
\item[{{\bf U\-I\-N\-T} $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_af02e0c59a61ad5954bc9b566fe8a79b8}


Definition at line 983 of file tff.\-c.



References A\-B\-O\-R\-T, F\-I\-L\-::buf, F\-I\-L\-::cltbl, F\-I\-L\-::clust, clust2sect(), F\-I\-L\-::csect, F\-A\-T\-F\-S\-::csize, F\-I\-L\-::curr\-\_\-clust, disk\-\_\-read(), disk\-\_\-write(), F\-A\-T\-F\-S\-::drv, F\-I\-L\-::dsect, F\-A\-\_\-\-\_\-\-D\-I\-R\-T\-Y, F\-A\-\_\-\-\_\-\-E\-R\-R\-O\-R, F\-A\-\_\-\-\_\-\-W\-R\-I\-T\-T\-E\-N, F\-A\-\_\-\-W\-R\-I\-T\-E, F\-I\-L\-::flag, F\-I\-L\-::fptr, F\-R\-\_\-\-D\-E\-N\-I\-E\-D, F\-R\-\_\-\-D\-I\-S\-K\-\_\-\-E\-R\-R, F\-R\-\_\-\-I\-N\-T\-\_\-\-E\-R\-R, F\-R\-\_\-\-O\-K, F\-R\-\_\-\-R\-W\-\_\-\-E\-R\-R\-O\-R, F\-I\-L\-::fs, F\-I\-L\-::fsize, fsize, F\-I\-L\-::id, L\-E\-A\-V\-E\-\_\-\-F\-F, F\-A\-T\-F\-S\-::max\-\_\-clust, F\-I\-L\-::org\-\_\-clust, res, R\-E\-S\-\_\-\-O\-K, F\-I\-L\-::sclust, S\-S, F\-A\-T\-F\-S\-::wflag, F\-A\-T\-F\-S\-::win, F\-A\-T\-F\-S\-::winflag, and F\-A\-T\-F\-S\-::winsect.


\begin{DoxyCode}
989 \{
990 \textcolor{comment}{//  FRESULT res;}
991     \hyperlink{p8_2pinguino_2core_2typedef_8h_a74cb93d430006e784da73b8ca406ee6e}{dword} sect;
992     \hyperlink{p8_2pinguino_2core_2typedef_8h_abad51e07ab6d26bec9f1f786c8d65bcd}{word} wcnt, cc;
993     \hyperlink{tff_8h_af322b62389c843d5727de4796a09f59c}{CLUST} clust;
994     \textcolor{keyword}{const} \hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} *wbuff = buff;
995 
996 
997     *bw = 0;
998     \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} = validate(fp->fs, fp->id);                  \textcolor{comment}{/* Check validity of the object */}
999     \textcolor{keywordflow}{if} (\hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res} != \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK}) \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1000     \textcolor{keywordflow}{if} (fp->flag & \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR}) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};   \textcolor{comment}{/* Check error flag */}
1001     \textcolor{keywordflow}{if} (!(fp->flag & \hyperlink{tff_8h_afa366963220c89b882c0361794020c14}{FA\_WRITE})) \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca897e9f2dd7629a80f48af242d8bc1a3d}{FR\_DENIED};  \textcolor{comment}{/* Check access mode */}
1002     \textcolor{keywordflow}{if} (fp->fsize + btw < fp->\hyperlink{itdb02__graph_8h_aa5154f1f2f741b1408f8726078a53e27}{fsize}) \textcolor{keywordflow}{return} \hyperlink{pff_8h_a49d0171ecbd362cda5680a0d360db44ca62fce5cd9df008f8fc85f99706bda5f1}{FR\_OK};    \textcolor{comment}{/* File size cannot reach 4GB */}
1003 
1004     \textcolor{keywordflow}{for} ( ;  btw;                                   \textcolor{comment}{/* Repeat until all data transferred */}
1005         wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) \{
1006         \textcolor{keywordflow}{if} ((fp->fptr % 512U) == 0) \{               \textcolor{comment}{/* On the sector boundary? */}
1007             \textcolor{keywordflow}{if} (fp->csect >= fp->fs->csize) \{       \textcolor{comment}{/* On the cluster boundary? */}
1008                 \textcolor{keywordflow}{if} (fp->fptr == 0) \{                \textcolor{comment}{/* On the top of the file? */}
1009                     clust = fp->org\_clust;          \textcolor{comment}{/* Follow from the origin */}
1010                     \textcolor{keywordflow}{if} (clust == 0)                 \textcolor{comment}{/* When there is no cluster chain, */}
1011                         fp->org\_clust = clust = create\_chain(0);    \textcolor{comment}{/* Create a new cluster chain */}
1012                 \} \textcolor{keywordflow}{else} \{                            \textcolor{comment}{/* Middle or end of the file */}
1013                     clust = create\_chain(fp->curr\_clust);           \textcolor{comment}{/* Trace or streach cluster chain */}
1014                 \}
1015                 \textcolor{keywordflow}{if} (clust == 0) \textcolor{keywordflow}{break};              \textcolor{comment}{/* Could not allocate a new cluster (disk full) */}
1016                 \textcolor{keywordflow}{if} (clust == 1 || clust >= fp->fs->max\_clust) \textcolor{keywordflow}{goto} fw\_error;
1017                 fp->curr\_clust = clust;             \textcolor{comment}{/* Update current cluster */}
1018                 fp->csect = 0;                      \textcolor{comment}{/* Reset sector address in the cluster */}
1019             \}
1020             sect = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(fp->curr\_clust) + fp->csect;    \textcolor{comment}{/* Get current sector */}
1021             cc = btw / 512U;                        \textcolor{comment}{/* When remaining bytes >= sector size, */}
1022             \textcolor{keywordflow}{if} (cc) \{                               \textcolor{comment}{/* Write maximum contiguous sectors directly */}
1023                 \textcolor{keywordflow}{if} (fp->csect + cc > fp->fs->csize) \textcolor{comment}{/* Clip at cluster boundary */}
1024                     cc = fp->fs->csize - fp->csect;
1025                 \textcolor{keywordflow}{if} (\hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_a7ffe0ccc946550a260d00871c6b636e7}{disk\_write}(wbuff, sect, (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})cc) != \hyperlink{p8_2pinguino_2libraries_2sd_2diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{RES\_OK})
1026                     \textcolor{keywordflow}{goto} fw\_error;
1027                 fp->csect += (\hyperlink{p8_2pinguino_2core_2typedef_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte})cc;              \textcolor{comment}{/* Next sector address in the cluster */}
1028                 wcnt = 512U * cc;                   \textcolor{comment}{/* Number of bytes transferred */}
1029                 \textcolor{keywordflow}{continue};
1030             \}
1031             \textcolor{keywordflow}{if} (fp->fptr >= fp->fsize) \{            \textcolor{comment}{/* Flush R/W window without reading if needed */}
1032                 \textcolor{keywordflow}{if} (!move\_window(0)) \textcolor{keywordflow}{goto} fw\_error;
1033                 fp->fs->winsect = sect;
1034             \}
1035             fp->csect++;                            \textcolor{comment}{/* Next sector address in the cluster */}
1036         \}
1037         sect = \hyperlink{ff_8c_a7519abb60fe91f6aa1d17f64fbae123a}{clust2sect}(fp->curr\_clust) + fp->csect - 1;    \textcolor{comment}{/* Get current sector */}
1038         \textcolor{keywordflow}{if} (!move\_window(sect)) \textcolor{keywordflow}{goto} fw\_error;      \textcolor{comment}{/* Move sector window */}
1039         wcnt = 512U - (fp->fptr % 512U);            \textcolor{comment}{/* Put partial sector into sector window */}
1040         \textcolor{keywordflow}{if} (wcnt > btw) wcnt = btw;
1041         memcpy(&fp->fs->win[fp->fptr % 512U], wbuff, wcnt);
1042         fp->fs->winflag = 1;
1043     \}
1044 
1045     \textcolor{keywordflow}{if} (fp->fptr > fp->fsize) \{fp->fsize = fp->fptr;\}   \textcolor{comment}{/* Update file size if needed */}
1046     fp->flag |= \hyperlink{tff_8h_ac4b7d5223f84df91c306ffbff536fae4}{FA\_\_WRITTEN};                     \textcolor{comment}{/* Set file changed flag */}
1047     \textcolor{keywordflow}{return} \hyperlink{tff_8c_aab43d7bcfb87e7ef71138d651ce1bea1}{res};
1048 
1049 fw\_error:   \textcolor{comment}{/* Abort this file due to an unrecoverable error */}
1050     fp->flag |= \hyperlink{tff_8h_ad3b47fe8126573b17752a9a242b76b9a}{FA\_\_ERROR};
1051     \textcolor{keywordflow}{return} \hyperlink{tff_8h_a49d0171ecbd362cda5680a0d360db44ca40dbd5f7138201bd676f4b19c11e93f4}{FR\_RW\_ERROR};
1052 \}
\end{DoxyCode}
\hypertarget{ff_8h_af58b536abfd30f77213f4ecaf2ac52f5}{\index{ff.\-h@{ff.\-h}!get\-\_\-fattime@{get\-\_\-fattime}}
\index{get\-\_\-fattime@{get\-\_\-fattime}!ff.h@{ff.\-h}}
\subsubsection[{get\-\_\-fattime}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\-W\-O\-R\-D} get\-\_\-fattime (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{ff_8h_af58b536abfd30f77213f4ecaf2ac52f5}


Definition at line 583 of file diskio.\-c.



References rtcc\-Date\-::dayofmonth, rtcc\-Time\-::hours, rtcc\-Time\-::minutes, rtcc\-Date\-::month, R\-T\-C\-C\-\_\-\-Convert\-Date(), R\-T\-C\-C\-\_\-\-Convert\-Time(), R\-T\-C\-C\-\_\-\-Get\-Time\-Date(), rtcc\-Time\-::seconds, and rtcc\-Date\-::year.


\begin{DoxyCode}
583                         \{
584     \hyperlink{p8_2pinguino_2libraries_2integer_8h_ad342ac907eb044443153a22f964bf0af}{DWORD} tmr = 0;
585 
586 \textcolor{comment}{// Pre-processor commands added so only use RTCC if the board is known}
587 \textcolor{comment}{// to support the RTCC ** Added 07 May 2012}
588 
589 \textcolor{comment}{// For boards known to support the RTCC library}
590 
591 \textcolor{preprocessor}{#if defined (PIC32\_PINGUINO) || defined (PIC32\_PINGUINO\_OTG)}
592 \textcolor{preprocessor}{}    \hyperlink{unionrtcc_time}{rtccTime} pTm, cTm;
593     \hyperlink{unionrtcc_date}{rtccDate} pDt, cDt;
594 
595     \hyperlink{rtcc_8h_a1dbff3cc5a57cfce880aa5c3d97389bf}{RTCC\_GetTimeDate}(&pTm, &pDt);   \textcolor{comment}{// get time and date from RTC}
596                                             \textcolor{comment}{// assumes RTC has been set and is running}
597                                             \textcolor{comment}{// OK - could be expanded to check that RTC}
598                                             \textcolor{comment}{// is running and that a valid value is}
599                                             \textcolor{comment}{// being returned by the RTC}
600     cTm = \hyperlink{p8_2pinguino_2core_2rtcc_8c_a827e4753332ef9b673ec39e960c3d0de}{RTCC\_ConvertTime}(&pTm);   \textcolor{comment}{// convert time from bcd to decimal format}
601     cDt = \hyperlink{p8_2pinguino_2core_2rtcc_8c_a6686cea9b23ceaf8ce04f794fe302533}{RTCC\_ConvertDate}(&pDt);   \textcolor{comment}{// convert date from bcd to decimal format}
602 
603     \textcolor{comment}{/* Pack date and time into a DWORD variable */}
604 \textcolor{comment}{//  tmr = (((DWORD) pDt.year - 80)) | ((DWORD) pDt.mon) | ((DWORD) pDt.mday)}
605 \textcolor{comment}{//          | (WORD) (pTm.hour) | (WORD) (pTm.min) | (WORD) (pTm.sec);}
606     tmr = cDt.\hyperlink{unionrtcc_date_ab02bacda75d48acac498f0c9f4e9b1cf}{year} + 20;
607    
608   \textcolor{comment}{// Correction according to a newer rtcc library, with diff struct members.}
609   
610      tmr = (tmr << 4) | cDt.\hyperlink{unionrtcc_date_ad5f8cd6773aef677b920ae4e4265bb10}{month};     \textcolor{comment}{// shifts left 4 bits and adds monthth}
611     tmr = (tmr << 5) | cDt.\hyperlink{unionrtcc_date_af980355fa766196214d34395ebed0a89}{dayofmonth};        \textcolor{comment}{// shifts left 5 bits and adds m.day}
612     tmr = (tmr << 5) | cTm.\hyperlink{unionrtcc_time_af8ebb6bc008ed8d3be395faf75ec1ebc}{hours};      \textcolor{comment}{// shifts left 5 bits and adds hour}
613     tmr = (tmr << 6) | cTm.\hyperlink{unionrtcc_time_a517646d9969ae9c9f8921e133b1b872b}{minutes};      \textcolor{comment}{// shift left 6 bits and adds minutes}
614     tmr = (tmr << 5) | (cTm.\hyperlink{unionrtcc_time_ae53e173daf8fcf970bb3324ae545f21c}{seconds}/2);  \textcolor{comment}{// shifts left 5 bits and adds seconds/2}
615 
616 \textcolor{comment}{//  For other boards use a fixed date and time of 01 Jan 2012 12:00:00}
617 \textcolor{preprocessor}{#else}
618 \textcolor{preprocessor}{}     tmr = 12 + 20;
619      tmr = (tmr << 4) | 1;       \textcolor{comment}{// shifts left 4 bits and adds month}
620      tmr = (tmr << 5) | 1;      \textcolor{comment}{// shifts left 5 bits and adds m.day}
621      tmr = (tmr << 5) | 12;     \textcolor{comment}{// shifts left 5 bits and adds hour}
622      tmr = (tmr << 6) | 0;       \textcolor{comment}{// shift left 6 bits and adds minutes}
623      tmr = (tmr << 5) | (0/2);   \textcolor{comment}{// shifts left 5 bits and adds seconds/2}
624 \textcolor{preprocessor}{#endif}
625 \textcolor{preprocessor}{}
626     \textcolor{keywordflow}{return} tmr;
627 \}
\end{DoxyCode}
